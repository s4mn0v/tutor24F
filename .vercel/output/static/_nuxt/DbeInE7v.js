import{f as e,r as t,B as a,g as s,h as l,o as n,i as r,t as o,F as i,m as c,C as d,k as u,e as g,_ as m,b as x}from"./y4QvXspP.js";import"./CGY6ERjo.js";import".prisma/client/index-browser";const v={class:"calendar-container bg-zinc-900 text-white p-4 sm:p-6"},f={class:"flex flex-col lg:flex-row gap-6"},h={class:"flex-grow"},p={class:"flex justify-between items-center mb-4"},b={class:"text-xl sm:text-2xl font-bold"},y={class:"grid grid-cols-7 gap-1 mb-2 text-center"},w={class:"grid grid-cols-7 gap-1"},D={key:0,class:"w-1 h-1 bg-blue-400 rounded-full mt-1"},S={class:"w-full lg:w-1/3 mt-6 lg:mt-0"},k={class:"space-y-4 max-h-96 overflow-y-auto pr-2"},C={class:"flex justify-between items-start mb-2"},M={class:"text-blue-400 text-xs sm:text-sm font-medium mb-1"},z={class:"font-semibold text-sm sm:text-base"},E={key:0,class:"text-gray-400 text-xs sm:text-sm mt-2"},_={class:"mt-2 pt-2 border-t border-gray-700"},j={class:"text-xs text-gray-500 font-medium"},F={key:1,class:"text-center py-8"},A=m(e({__name:"StudentCalendar",setup(e){const m=t([]),x=t(new Date),A=["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],I=()=>{x.value=new Date(x.value.getFullYear(),x.value.getMonth()-1)},L=()=>{x.value=new Date(x.value.getFullYear(),x.value.getMonth()+1)},Y=a((()=>{const e=x.value.getFullYear(),t=x.value.getMonth(),a=new Date(e,t,1),s=new Date(e,t+1,0).getDate(),l=a.getDay(),n=[];for(let o=0;o<l;o++){const a=new Date(e,t,-l+o+1);n.push({date:a,isCurrentMonth:!1,hasEvent:B(a)})}for(let o=1;o<=s;o++){const a=new Date(e,t,o);n.push({date:a,isCurrentMonth:!0,hasEvent:B(a)})}const r=42-n.length;for(let o=1;o<=r;o++){const a=new Date(e,t+1,o);n.push({date:a,isCurrentMonth:!1,hasEvent:B(a)})}return n})),B=e=>m.value.some((t=>new Date(t.date).toDateString()===e.toDateString())),$=e=>{const t=new Date;return e.toDateString()===t.toDateString()};return s((async()=>{try{const e=localStorage.getItem("token");if(!e)return;const t=await $fetch("/api/students/calendar",{headers:{Authorization:`Bearer ${e}`}});t&&Array.isArray(t.eventos)&&(m.value=t.eventos)}catch(e){}})),(e,t)=>(n(),l("div",v,[r("div",f,[r("div",h,[r("div",p,[r("h2",b,o(x.value.toLocaleDateString("es-ES",{month:"long",year:"numeric"})),1),r("div",{class:"flex space-x-2"},[r("button",{onClick:I,class:"p-2 rounded-lg hover:bg-zinc-700 transition-colors"},t[0]||(t[0]=[r("i",{class:"fas fa-chevron-left"},null,-1)])),r("button",{onClick:L,class:"p-2 rounded-lg hover:bg-zinc-700 transition-colors"},t[1]||(t[1]=[r("i",{class:"fas fa-chevron-right"},null,-1)]))])]),r("div",y,[(n(),l(i,null,c(A,(e=>r("div",{key:e,class:"text-xs sm:text-sm font-medium text-gray-400 py-1"},o(e),1))),64))]),r("div",w,[(n(!0),l(i,null,c(Y.value,(({date:e,isCurrentMonth:t,hasEvent:a})=>(n(),l("div",{key:e.toISOString(),class:d(["aspect-square flex flex-col items-center justify-center text-xs sm:text-sm relative group rounded-lg",[t?"text-white":"text-gray-500","hover:bg-zinc-700 transition-all duration-200"]])},[r("span",{class:d({"bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center":$(e)})},o(e.getDate()),3),a?(n(),l("div",D)):u("",!0)],2)))),128))])]),r("div",S,[t[3]||(t[3]=r("h3",{class:"text-lg sm:text-xl font-bold mb-4 flex items-center"},[r("i",{class:"fas fa-bell mr-2 text-blue-400"}),g(" Recordatorios ")],-1)),r("div",k,[m.value.length>0?(n(!0),l(i,{key:0},c(m.value,(e=>{return n(),l("div",{key:e.id,class:"bg-zinc-800 rounded-lg p-3 hover:bg-zinc-700 transition-all duration-200"},[r("div",C,[r("div",null,[r("p",M,o((t=e.date,new Date(t).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))),1),r("h4",z,o(e.title),1)])]),e.description?(n(),l("p",E,o(e.description),1)):u("",!0),r("div",_,[r("span",j,o(e.asignatura.nombre),1)])]);var t})),128)):(n(),l("div",F,t[2]||(t[2]=[r("i",{class:"fas fa-calendar-day text-4xl text-gray-600 mb-2"},null,-1),r("p",{class:"text-gray-400 text-sm"},"No hay recordatorios programados",-1)])))])])])]))}}),[["__scopeId","data-v-c1368d6a"]]),I={class:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 p-4 sm:p-6 lg:p-8"},L={class:"max-w-7xl mx-auto"},Y={class:"bg-zinc-800 rounded-lg shadow-xl overflow-hidden"},B=e({__name:"calendar",setup:e=>(e,t)=>{const a=A;return n(),l("div",I,[r("div",L,[t[0]||(t[0]=r("h1",{class:"text-3xl font-bold text-white mb-6"},"Calendario del Estudiante",-1)),r("div",Y,[x(a)])])])}});export{B as default};
