import a from"./C9-cjxml.js";import{_ as e,f as l,h as n,o as i,i as t,P as o,k as u,Q as r,C as s,S as d,U as c,B as p,r as g,a3 as v,g as m,Y as f,Z as y,W as I,a6 as b,b as C}from"./hFqZFfy7.js";import{u as h,i as j}from"./DHMDb2DJ.js";import{u as S}from"./D9V1fidf.js";import{a as B}from"./DmDc0Qph.js";import"./CCWsANb-.js";import"./CkVD2Uqn.js";import".prisma/client/index-browser";const z=d(I.ui.strategy,I.ui.input,j),N=l({components:{UIcon:a},inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>z.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:null},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator:a=>Object.keys(z.size).includes(a)},color:{type:String,default:()=>z.default.color,validator:a=>[...I.ui.colors,...Object.keys(z.color)].includes(a)},variant:{type:String,default:()=>z.default.variant,validator:a=>[...Object.keys(z.variant),...Object.values(z.color).flatMap((a=>Object.keys(a)))].includes(a)},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(a,{emit:e,slots:l}){const{ui:n,attrs:i}=h("input",c(a,"ui"),z,c(a,"class")),{size:t,rounded:o}=B({ui:n,props:a}),{emitFormBlur:u,emitFormInput:r,size:s,color:d,inputId:C,name:j}=S(a,z),N=p((()=>t.value??s.value)),O=g(v({},a.modelModifiers,{trim:!1,lazy:!1,number:!1,nullify:!1})),k=g(null),A=l=>{O.value.trim&&(l=l.trim()),(O.value.number||"number"===a.type)&&(l=b(l)),O.value.nullify&&(l||(l=null)),e("update:modelValue",l),r()};m((()=>{setTimeout((()=>{var e;a.autofocus&&(null==(e=k.value)||e.focus())}),a.autofocusDelay)}));const W=p((()=>{var e,i;const t=(null==(i=null==(e=n.value.color)?void 0:e[d.value])?void 0:i[a.variant])||n.value.variant[a.variant];return f(y(n.value.base,n.value.form,o.value,n.value.placeholder,"file"===a.type&&n.value.file.base,n.value.size[N.value],a.padded?n.value.padding[N.value]:"p-0",null==t?void 0:t.replaceAll("{color}",d.value),($.value||l.leading)&&n.value.leading.padding[N.value],(q.value||l.trailing)&&n.value.trailing.padding[N.value]),a.inputClass)})),$=p((()=>a.icon&&a.leading||a.icon&&!a.trailing||a.loading&&!a.trailing||a.leadingIcon)),q=p((()=>a.icon&&a.trailing||a.loading&&a.trailing||a.trailingIcon)),w=p((()=>a.loading?a.loadingIcon:a.leadingIcon||a.icon)),V=p((()=>a.loading&&!$.value?a.loadingIcon:a.trailingIcon||a.icon)),x=p((()=>y(n.value.icon.leading.wrapper,n.value.icon.leading.pointer,n.value.icon.leading.padding[N.value]))),M=p((()=>y(n.value.icon.base,d.value&&I.ui.colors.includes(d.value)&&n.value.icon.color.replaceAll("{color}",d.value),n.value.icon.size[N.value],a.loading&&n.value.icon.loading))),T=p((()=>y(n.value.icon.trailing.wrapper,n.value.icon.trailing.pointer,n.value.icon.trailing.padding[N.value]))),D=p((()=>y(n.value.icon.base,d.value&&I.ui.colors.includes(d.value)&&n.value.icon.color.replaceAll("{color}",d.value),n.value.icon.size[N.value],a.loading&&!$.value&&n.value.icon.loading)));return{ui:n,attrs:i,name:j,inputId:C,input:k,isLeading:$,isTrailing:q,inputClass:W,leadingIconName:w,leadingIconClass:M,leadingWrapperIconClass:x,trailingIconName:V,trailingIconClass:D,trailingWrapperIconClass:T,onInput:a=>{O.value.lazy||A(a.target.value)},onChange:l=>{if("file"===a.type){const a=l.target.files;e("change",a)}else{const a=l.target.value;e("change",a),O.value.lazy&&A(a),O.value.trim&&(l.target.value=a.trim())}},onBlur:a=>{u(),e("blur",a)}}}}),O=["id","name","type","required","placeholder","disabled"];const k=e(N,[["render",function(e,l,d,c,p,g){const v=a;return i(),n("div",{class:s("hidden"===e.type?"hidden":e.ui.wrapper)},[t("input",r({id:e.inputId,ref:"input",name:e.name,type:e.type,required:e.required,placeholder:e.placeholder,disabled:e.disabled,class:e.inputClass},"file"===e.type?e.attrs:{...e.attrs,value:e.modelValue},{onInput:l[0]||(l[0]=(...a)=>e.onInput&&e.onInput(...a)),onBlur:l[1]||(l[1]=(...a)=>e.onBlur&&e.onBlur(...a)),onChange:l[2]||(l[2]=(...a)=>e.onChange&&e.onChange(...a))}),null,16,O),o(e.$slots,"default"),e.isLeading&&e.leadingIconName||e.$slots.leading?(i(),n("span",{key:0,class:s(e.leadingWrapperIconClass)},[o(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},(()=>[C(v,{name:e.leadingIconName,class:s(e.leadingIconClass)},null,8,["name","class"])]))],2)):u("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(i(),n("span",{key:1,class:s(e.trailingWrapperIconClass)},[o(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},(()=>[C(v,{name:e.trailingIconName,class:s(e.trailingIconClass)},null,8,["name","class"])]))],2)):u("",!0)],2)}]]);export{k as default};
