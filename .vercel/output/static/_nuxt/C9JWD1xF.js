import t from"./BEP5_JP-.js";import{_ as e}from"./Cq5CFOCe.js";import o from"./MFsz-r7O.js";import{r as s,B as a,_ as i,f as l,c as n,o as r,w as u,i as c,C as p,h as d,k as m,Q as v,P as f,F as g,m as y,y as k,E as b,T as w,S as C,U as x,Y as h,Z as j,j as A,g as B,D as M,W as $,M as S,e as T,t as O}from"./y4QvXspP.js";import{u as _}from"./BsUv8T9A.js";import{g as z}from"./BmYt0hqU.js";import"./D5749dPv.js";import"./CGY6ERjo.js";import".prisma/client/index-browser";import"./D0xtSe3C.js";import"./Bfxjojwb.js";import"./Ch5OrHHS.js";import"./CcWMAPI5.js";import"./CHOj1P8S.js";const F=C($.ui.strategy,$.ui.notification,{wrapper:"w-full pointer-events-auto",container:"relative overflow-hidden",inner:"w-0 flex-1",title:"text-sm font-medium text-gray-900 dark:text-white",description:"mt-1 text-sm leading-4 text-gray-500 dark:text-gray-400",actions:"flex items-center gap-2 mt-3 flex-shrink-0",background:"bg-white dark:bg-gray-900",shadow:"shadow-lg",rounded:"rounded-lg",padding:"p-4",gap:"gap-3",ring:"ring-1 ring-gray-200 dark:ring-gray-800",icon:{base:"flex-shrink-0 w-5 h-5",color:"text-{color}-500 dark:text-{color}-400"},avatar:{base:"flex-shrink-0 self-center",size:"md"},progress:{base:"absolute bottom-0 end-0 start-0 h-1",background:"bg-{color}-500 dark:bg-{color}-400"},transition:{enterActiveClass:"transform ease-out duration-300 transition",enterFromClass:"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2",enterToClass:"translate-y-0 opacity-100 sm:translate-x-0",leaveActiveClass:"transition ease-in duration-100",leaveFromClass:"opacity-100",leaveToClass:"opacity-0"},default:{color:"primary",icon:null,timeout:5e3,closeButton:{icon:"i-heroicons-x-mark-20-solid",color:"gray",variant:"link",padded:!1},actionButton:{size:"xs",color:"white"}}});const U=i(l({components:{UIcon:t,UAvatar:e,UButton:o},inheritAttrs:!1,props:{id:{type:[String,Number],required:!0},title:{type:String,default:null},description:{type:String,default:null},icon:{type:String,default:()=>F.default.icon},avatar:{type:Object,default:null},closeButton:{type:Object,default:()=>F.default.closeButton},timeout:{type:Number,default:()=>F.default.timeout},actions:{type:Array,default:()=>[]},callback:{type:Function,default:null},color:{type:String,default:()=>F.default.color,validator:t=>["gray",...$.ui.colors].includes(t)},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},pauseTimeoutOnHover:{type:Boolean,default:!0}},emits:["close"],setup(t,{emit:e}){const{ui:o,attrs:i}=_("notification",x(t,"ui"),F);let l=null;const n=s(t.timeout),r=a((()=>{var e,s;return h(j(o.value.wrapper,null==(e=o.value.background)?void 0:e.replaceAll("{color}",t.color),o.value.rounded,o.value.shadow,null==(s=o.value.ring)?void 0:s.replaceAll("{color}",t.color)),t.class)})),u=a((()=>{var e;return j(o.value.progress.base,null==(e=o.value.progress.background)?void 0:e.replaceAll("{color}",t.color))})),c=a((()=>({width:`${n.value/t.timeout*100||0}%`}))),p=a((()=>{var e;return j(o.value.icon.base,null==(e=o.value.icon.color)?void 0:e.replaceAll("{color}",t.color))}));function d(){l&&l.stop(),t.callback&&t.callback(),e("close")}function m(){l&&l.stop(),t.timeout&&(l=function(t,e){let o=null;const{pause:i,resume:l,timestamp:n}=z({controls:!0}),r=s(null),u=a((()=>r.value?e-(n.value-r.value):0));function c(...e){o=setTimeout((()=>{o=null,r.value=null,t(...e)}),u.value)}function p(){o&&(clearTimeout(o),o=null)}function d(){r.value=Date.now(),c()}return d(),{start:d,stop:function(){p(),i()},pause:function(){p(),i()},resume:function(){c(),l(),r.value=(r.value||0)+(Date.now()-n.value)},remaining:u}}((()=>{d()}),t.timeout),S((()=>{n.value=l.remaining.value})))}return A((()=>t.timeout),m),B(m),M((()=>{l&&l.stop()})),{ui:o,attrs:i,wrapperClass:r,progressClass:u,progressStyle:c,iconClass:p,onMouseover:function(){t.pauseTimeoutOnHover&&l&&l.pause()},onMouseleave:function(){t.pauseTimeoutOnHover&&l&&l.resume()},onClose:d,onAction:function(t){l&&l.stop(),t.click&&t.click(),e("close")},twMerge:h}}}),[["render",function(s,a,i,l,C,x){const h=t,j=e,A=o;return r(),n(w,v({appear:""},s.ui.transition),{default:u((()=>[c("div",v({class:s.wrapperClass,role:"status"},s.attrs,{onMouseover:a[0]||(a[0]=(...t)=>s.onMouseover&&s.onMouseover(...t)),onMouseleave:a[1]||(a[1]=(...t)=>s.onMouseleave&&s.onMouseleave(...t))}),[c("div",{class:p([s.ui.container,s.ui.rounded,s.ui.ring])},[c("div",{class:p(["flex",[s.ui.padding,s.ui.gap,{"items-start":s.description||s.$slots.description,"items-center":!s.description&&!s.$slots.description}]])},[s.icon?(r(),n(h,{key:0,name:s.icon,class:p(s.iconClass)},null,8,["name","class"])):m("",!0),s.avatar?(r(),n(j,v({key:1},{size:s.ui.avatar.size,...s.avatar},{class:s.ui.avatar.base}),null,16,["class"])):m("",!0),c("div",{class:p(s.ui.inner)},[s.title||s.$slots.title?(r(),d("p",{key:0,class:p(s.ui.title)},[f(s.$slots,"title",{title:s.title},(()=>[T(O(s.title),1)]))],2)):m("",!0),s.description||s.$slots.description?(r(),d("div",{key:1,class:p(s.twMerge(s.ui.description,!s.title&&!s.$slots.title&&"mt-0 leading-5"))},[f(s.$slots,"description",{description:s.description},(()=>[T(O(s.description),1)]))],2)):m("",!0),(s.description||s.$slots.description)&&s.actions.length?(r(),d("div",{key:2,class:p(s.ui.actions)},[(r(!0),d(g,null,y(s.actions,((t,e)=>(r(),n(A,v({key:e,ref_for:!0},{...s.ui.default.actionButton||{},...t},{onClick:k((e=>s.onAction(t)),["stop"])}),null,16,["onClick"])))),128))],2)):m("",!0)],2),s.closeButton||!s.description&&!s.$slots.description&&s.actions.length?(r(),d("div",{key:2,class:p(s.twMerge(s.ui.actions,"mt-0"))},[s.description||s.$slots.description||!s.actions.length?m("",!0):(r(!0),d(g,{key:0},y(s.actions,((t,e)=>(r(),n(A,v({key:e,ref_for:!0},{...s.ui.default.actionButton||{},...t},{onClick:k((e=>s.onAction(t)),["stop"])}),null,16,["onClick"])))),128)),s.closeButton?(r(),n(A,v({key:1,"aria-label":"Close"},{...s.ui.default.closeButton||{},...s.closeButton},{onClick:k(s.onClose,["stop"])}),null,16,["onClick"])):m("",!0)],2)):m("",!0)],2),s.timeout?(r(),d("div",{key:0,class:p(s.progressClass),style:b(s.progressStyle)},null,6)):m("",!0)],2)],16)])),_:3},16)}]]);export{U as default};
