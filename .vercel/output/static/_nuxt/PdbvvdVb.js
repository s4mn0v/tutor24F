import{f as e,r as t,B as a,g as l,D as n,M as o,N as u,G as s,L as r,_ as i,c as d,o as c,w as p,b as v,h as m,k as f,P as g,C as b,l as M,i as y,F as I,m as h,q as S,Q as k,a2 as w,T as R,E as x,S as P,U as T,a3 as D,j,Z as E,Y as O,W as A,t as C,e as L,X as _}from"./hFqZFfy7.js";import B from"./C9-cjxml.js";import{_ as N}from"./Ct_72RIb.js";import F from"./q3i21GJ2.js";import{i as $,A as H,o as K,u as U,a as J,N as q,s as z}from"./BvCfb3ib.js";import{w as Q}from"./D7unn5Ia.js";import{s as V}from"./BUyXXaLr.js";import{p as W}from"./qqdKM1m-.js";import{u as G,i as X,f as Y,c as Z}from"./DSu5y-vr.js";import{l as ee,i as te,t as ae}from"./DNRP4idu.js";import{w as le,h as ne,O as oe,v as ue,N as se,_ as re}from"./DbuPMTfp.js";import{u as ie,d as de}from"./DHMDb2DJ.js";import{u as ce}from"./BYz7Z2fJ.js";import{g as pe}from"./Ch5OrHHS.js";import"./CkVD2Uqn.js";import".prisma/client/index-browser";import"./CCWsANb-.js";import"./C60RTlwW.js";var ve,me=((ve=me||{})[ve.Open=0]="Open",ve[ve.Closed=1]="Closed",ve),fe=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(fe||{});let ge=Symbol("MenuContext");function be(e){let t=u(ge,null);if(null===t){let t=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,be),t}return t}let Me=e({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:l,attrs:n}){let o=t(1),u=t(null),s=t(null),i=t([]),d=t(""),c=t(null),p=t(1);function v(e=e=>e){let t=null!==c.value?i.value[c.value]:null,a=oe(e(i.value.slice()),(e=>K(e.dataRef.domRef))),l=t?a.indexOf(t):null;return-1===l&&(l=null),{items:a,activeItemIndex:l}}let m={menuState:o,buttonRef:u,itemsRef:s,items:i,searchQuery:d,activeItemIndex:c,activationTrigger:p,closeMenu:()=>{o.value=1,c.value=null},openMenu:()=>o.value=0,goToItem(e,t,a){let l=v(),n=Y(e===Z.Specific?{focus:Z.Specific,id:t}:{focus:e},{resolveItems:()=>l.items,resolveActiveIndex:()=>l.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.disabled});d.value="",c.value=n,p.value=null!=a?a:1,i.value=l.items},search(e){let t=""!==d.value?0:1;d.value+=e.toLowerCase();let a=(null!==c.value?i.value.slice(c.value+t).concat(i.value.slice(0,c.value+t)):i.value).find((e=>e.dataRef.textValue.startsWith(d.value)&&!e.dataRef.disabled)),l=a?i.value.indexOf(a):-1;-1===l||l===c.value||(c.value=l,p.value=1)},clearSearch(){d.value=""},registerItem(e,t){let a=v((a=>[...a,{id:e,dataRef:t}]));i.value=a.items,c.value=a.activeItemIndex,p.value=1},unregisterItem(e){let t=v((t=>{let a=t.findIndex((t=>t.id===e));return-1!==a&&t.splice(a,1),t}));i.value=t.items,c.value=t.activeItemIndex,p.value=1}};return Q([u,s],((e,t)=>{var a;m.closeMenu(),le(t,ne.Loose)||(e.preventDefault(),null==(a=K(u))||a.focus())}),a((()=>0===o.value))),r(ge,m),ae(a((()=>U(o.value,{0:te.Open,1:te.Closed})))),()=>{let t={open:0===o.value,close:m.closeMenu};return H({ourProps:{},theirProps:e,slot:t,slots:l,attrs:n,name:"Menu"})}}}),ye=e({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:t,slots:l,expose:n}){var o;let u=null!=(o=e.id)?o:`headlessui-menu-button-${$()}`,r=be("MenuButton");function i(e){switch(e.key){case J.Space:case J.Enter:case J.ArrowDown:e.preventDefault(),e.stopPropagation(),r.openMenu(),s((()=>{var e;null==(e=K(r.itemsRef))||e.focus({preventScroll:!0}),r.goToItem(Z.First)}));break;case J.ArrowUp:e.preventDefault(),e.stopPropagation(),r.openMenu(),s((()=>{var e;null==(e=K(r.itemsRef))||e.focus({preventScroll:!0}),r.goToItem(Z.Last)}))}}function d(e){if(e.key===J.Space)e.preventDefault()}function c(t){var a;e.disabled||(0===r.menuState.value?(r.closeMenu(),s((()=>{var e;return null==(e=K(r.buttonRef))?void 0:e.focus({preventScroll:!0})}))):(t.preventDefault(),r.openMenu(),a=()=>{var e;return null==(e=K(r.itemsRef))?void 0:e.focus({preventScroll:!0})},requestAnimationFrame((()=>requestAnimationFrame(a)))))}n({el:r.buttonRef,$el:r.buttonRef});let p=V(a((()=>({as:e.as,type:t.type}))),r.buttonRef);return()=>{var a;let n={open:0===r.menuState.value},{...o}=e,s={ref:r.buttonRef,id:u,type:p.value,"aria-haspopup":"menu","aria-controls":null==(a=K(r.itemsRef))?void 0:a.id,"aria-expanded":0===r.menuState.value,onKeydown:i,onKeyup:d,onClick:c};return H({ourProps:s,theirProps:o,slot:n,attrs:t,slots:l,name:"MenuButton"})}}}),Ie=e({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:l,slots:n,expose:o}){var u;let r=null!=(u=e.id)?u:`headlessui-menu-items-${$()}`,i=be("MenuItems"),d=t(null);function c(e){var t;switch(d.value&&clearTimeout(d.value),e.key){case J.Space:if(""!==i.searchQuery.value)return e.preventDefault(),e.stopPropagation(),i.search(e.key);case J.Enter:if(e.preventDefault(),e.stopPropagation(),null!==i.activeItemIndex.value){let e=i.items.value[i.activeItemIndex.value];null==(t=K(e.dataRef.domRef))||t.click()}i.closeMenu(),re(K(i.buttonRef));break;case J.ArrowDown:return e.preventDefault(),e.stopPropagation(),i.goToItem(Z.Next);case J.ArrowUp:return e.preventDefault(),e.stopPropagation(),i.goToItem(Z.Previous);case J.Home:case J.PageUp:return e.preventDefault(),e.stopPropagation(),i.goToItem(Z.First);case J.End:case J.PageDown:return e.preventDefault(),e.stopPropagation(),i.goToItem(Z.Last);case J.Escape:e.preventDefault(),e.stopPropagation(),i.closeMenu(),s((()=>{var e;return null==(e=K(i.buttonRef))?void 0:e.focus({preventScroll:!0})}));break;case J.Tab:e.preventDefault(),e.stopPropagation(),i.closeMenu(),s((()=>ue(K(i.buttonRef),e.shiftKey?se.Previous:se.Next)));break;default:1===e.key.length&&(i.search(e.key),d.value=setTimeout((()=>i.clearSearch()),350))}}function p(e){if(e.key===J.Space)e.preventDefault()}o({el:i.itemsRef,$el:i.itemsRef}),X({container:a((()=>K(i.itemsRef))),enabled:a((()=>0===i.menuState.value)),accept:e=>"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let v=ee(),m=a((()=>null!==v?(v.value&te.Open)===te.Open:0===i.menuState.value));return()=>{var t,a;let o={open:0===i.menuState.value},{...u}=e,s={"aria-activedescendant":null===i.activeItemIndex.value||null==(t=i.items.value[i.activeItemIndex.value])?void 0:t.id,"aria-labelledby":null==(a=K(i.buttonRef))?void 0:a.id,id:r,onKeydown:c,onKeyup:p,role:"menu",tabIndex:0,ref:i.itemsRef};return H({ourProps:s,theirProps:u,slot:o,attrs:l,slots:n,features:q.RenderStrategy|q.Static,visible:m.value,name:"MenuItems"})}}}),he=e({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:u,attrs:r,expose:i}){var d;let c=null!=(d=e.id)?d:`headlessui-menu-item-${$()}`,p=be("MenuItem"),v=t(null);i({el:v,$el:v});let m=a((()=>null!==p.activeItemIndex.value&&p.items.value[p.activeItemIndex.value].id===c)),f=W(v),g=a((()=>({disabled:e.disabled,get textValue(){return f()},domRef:v})));function b(t){if(e.disabled)return t.preventDefault();p.closeMenu(),re(K(p.buttonRef))}function M(){if(e.disabled)return p.goToItem(Z.Nothing);p.goToItem(Z.Specific,c)}l((()=>p.registerItem(c,g))),n((()=>p.unregisterItem(c))),o((()=>{0===p.menuState.value&&m.value&&0!==p.activationTrigger.value&&s((()=>{var e,t;return null==(t=null==(e=K(v))?void 0:e.scrollIntoView)?void 0:t.call(e,{block:"nearest"})}))}));let y=G();function I(e){y.update(e)}function h(t){y.wasMoved(t)&&(e.disabled||m.value||p.goToItem(Z.Specific,c,0))}function S(t){y.wasMoved(t)&&(e.disabled||m.value&&p.goToItem(Z.Nothing))}return()=>{let{disabled:t,...a}=e,l={active:m.value,disabled:t,close:p.closeMenu};return H({ourProps:{id:c,ref:v,role:"menuitem",tabIndex:!0===t?void 0:-1,"aria-disabled":!0===t||void 0,onClick:b,onFocus:M,onPointerenter:I,onMouseenter:I,onPointermove:h,onMousemove:h,onPointerleave:S,onMouseleave:S},theirProps:{...r,...a},slot:l,attrs:r,slots:u,name:"MenuItem"})}}});const Se=P(A.ui.strategy,A.ui.dropdown,de),ke=e({components:{HMenu:Me,HMenuButton:ye,HMenuItems:Ie,HMenuItem:he,UIcon:B,UAvatar:N,UKbd:F},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},mode:{type:String,default:"click",validator:e=>["click","hover"].includes(e)},open:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},popper:{type:Object,default:()=>({})},openDelay:{type:Number,default:()=>Se.default.openDelay},closeDelay:{type:Number,default:()=>Se.default.closeDelay},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:open"],setup(e,{emit:n}){const{ui:o,attrs:u}=ie("dropdown",T(e,"ui"),Se,T(e,"class")),s=a((()=>D("hover"===e.mode?{offsetDistance:0}:{},e.popper,o.value.popper))),[r,i]=ce(s.value),d=t(null);let c=null,p=null;l((()=>{var t,a;const l=null==(t=r.value)?void 0:t.$.provides;if(!l)return;const n=Object.getOwnPropertySymbols(l);d.value=n.length&&l[n[0]],e.open&&(null==(a=d.value)||a.openMenu())}));const v=a((()=>{var t,a,l;if("hover"!==e.mode)return{};const n=(null==(t=e.popper)?void 0:t.offsetDistance)||(null==(a=o.value.popper)?void 0:a.offsetDistance)||8,u=null==(l=s.value.placement)?void 0:l.split("-")[0],r=`${n}px`;return"top"===u||"bottom"===u?{paddingTop:r,paddingBottom:r}:"left"===u||"right"===u?{paddingLeft:r,paddingRight:r}:{paddingTop:r,paddingBottom:r,paddingLeft:r,paddingRight:r}}));j((()=>e.open),((e,t)=>{d.value&&void 0!==t&&e!==t&&(e?d.value.openMenu():d.value.closeMenu())})),j((()=>{var e;return null==(e=d.value)?void 0:e.menuState}),((e,t)=>{void 0!==t&&e!==t&&n("update:open",0===e)}));const m=S;return z((()=>_())),{ui:o,attrs:u,popper:s,trigger:r,container:i,containerStyle:v,onTouchStart:function(t){t.cancelable&&d.value&&"click"!==e.mode&&(0===d.value.menuState?d.value.closeMenu():d.value.openMenu())},onMouseEnter:function(){"hover"===e.mode&&d.value&&(p&&(clearTimeout(p),p=null),0!==d.value.menuState&&(c=c||setTimeout((()=>{d.value.openMenu&&d.value.openMenu(),c=null}),e.openDelay)))},onMouseLeave:function(){"hover"===e.mode&&d.value&&(c&&(clearTimeout(c),c=null),1!==d.value.menuState&&(p=p||setTimeout((()=>{d.value.closeMenu&&d.value.closeMenu(),p=null}),e.closeDelay)))},onClick:function(e,t,{href:a,navigate:l,close:n,isExternal:o}){t.click&&t.click(e),a&&!o&&(l(e),n())},getNuxtLinkProps:pe,twMerge:O,twJoin:E,NuxtLink:m}}}),we=["disabled"];const Re=i(ke,[["render",function(e,t,a,l,n,o){const u=M("HMenuButton"),s=B,r=N,i=F,P=M("HMenuItem"),T=S,D=M("HMenuItems"),j=M("HMenu");return c(),d(j,k({as:"div",class:e.ui.wrapper},e.attrs,{onMouseleave:e.onMouseLeave}),{default:p((({open:a})=>[v(u,{ref:"trigger",as:"div",disabled:e.disabled,class:b(e.ui.trigger),role:"button",onMouseenter:e.onMouseEnter,onTouchstartPassive:e.onTouchStart},{default:p((()=>[g(e.$slots,"default",{open:a,disabled:e.disabled},(()=>[y("button",{disabled:e.disabled}," Open ",8,we)]))])),_:2},1032,["disabled","class","onMouseenter","onTouchstartPassive"]),a&&e.items.length?(c(),m("div",{key:0,ref:"container",class:b([e.ui.container,e.ui.width]),style:x(e.containerStyle),onMouseenter:t[0]||(t[0]=(...t)=>e.onMouseEnter&&e.onMouseEnter(...t))},[v(R,k({appear:""},e.ui.transition),{default:p((()=>[y("div",null,[e.popper.arrow?(c(),m("div",{key:0,"data-popper-arrow":"",class:b(Object.values(e.ui.arrow))},null,2)):f("",!0),v(D,{class:b([e.ui.base,e.ui.divide,e.ui.ring,e.ui.rounded,e.ui.shadow,e.ui.background,e.ui.height]),static:""},{default:p((()=>[(c(!0),m(I,null,h(e.items,((t,a)=>(c(),m("div",{key:a,class:b(e.ui.padding)},[(c(!0),m(I,null,h(t,((t,a)=>(c(),d(T,k({key:a,ref_for:!0},e.getNuxtLinkProps(t),{custom:""}),{default:p((({href:a,target:l,rel:n,navigate:o,isExternal:u,isActive:M})=>[v(P,{disabled:t.disabled},{default:p((({active:v,disabled:S,close:R})=>[(c(),d(w(a?"a":"button"),{href:S?void 0:a,rel:n,target:l,class:b(e.twMerge(e.twJoin(e.ui.item.base,e.ui.item.padding,e.ui.item.size,e.ui.item.rounded,v||M?e.ui.item.active:e.ui.item.inactive,S&&e.ui.item.disabled),t.class)),onClick:l=>e.onClick(l,t,{href:a,navigate:o,close:R,isExternal:u})},{default:p((()=>[g(e.$slots,t.slot||"item",{item:t},(()=>{var a;return[t.icon?(c(),d(s,{key:0,name:t.icon,class:b(e.twMerge(e.twJoin(e.ui.item.icon.base,v||M?e.ui.item.icon.active:e.ui.item.icon.inactive),t.iconClass))},null,8,["name","class"])):t.avatar?(c(),d(r,k({key:1,ref_for:!0},{size:e.ui.item.avatar.size,...t.avatar},{class:e.ui.item.avatar.base}),null,16,["class"])):f("",!0),y("span",{class:b(e.twMerge(e.ui.item.label,t.labelClass))},C(t.label),3),(null==(a=t.shortcuts)?void 0:a.length)?(c(),m("span",{key:2,class:b(e.ui.item.shortcuts)},[(c(!0),m(I,null,h(t.shortcuts,(e=>(c(),d(i,{key:e},{default:p((()=>[L(C(e),1)])),_:2},1024)))),128))],2)):f("",!0)]}))])),_:2},1032,["href","rel","target","class","onClick"]))])),_:2},1032,["disabled"])])),_:2},1040)))),128))],2)))),128))])),_:3},8,["class"])])])),_:3},16)],38)):f("",!0)])),_:3},16,["class","onMouseleave"])}]]);export{Re as default};
