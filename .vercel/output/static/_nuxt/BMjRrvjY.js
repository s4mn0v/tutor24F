import{f as e,B as t,g as o,D as l,L as a,M as n,r,$ as u,F as s,N as i,_ as p,c as v,o as d,w as c,b as f,k as b,h as g,P as y,C as m,l as P,T as S,Q as h,i as w,E as k,S as E,U as T,a3 as C,j as F,W as j,X as D}from"./y4QvXspP.js";import{n as B,q as O,N as x,E as I,d as M}from"./C5xfyGX2.js";import{i as $,o as N,A,u as L,a as H,N as _,s as R}from"./E-EL6i1g.js";import{w as G}from"./b_2Iuj5n.js";import{s as K}from"./DSObW8YX.js";import{f as q,u as z}from"./B_0YXuDZ.js";import{l as W,i as Q,t as U}from"./B3WgecHe.js";import{i as V,P as X,N as J,E as Y,w as Z,T as ee,h as te}from"./CLukktBK.js";import{c as oe,u as le}from"./BsUv8T9A.js";import{u as ae}from"./C3eNCTn-.js";import"./CGY6ERjo.js";import".prisma/client/index-browser";import"./BmYt0hqU.js";const ne={wrapper:"relative",container:"z-50 group",trigger:"inline-flex w-full",width:"",background:"bg-white dark:bg-gray-900",shadow:"shadow-lg",rounded:"rounded-md",ring:"ring-1 ring-gray-200 dark:ring-gray-800",base:"overflow-hidden focus:outline-none relative",transition:{enterActiveClass:"transition ease-out duration-200",enterFromClass:"opacity-0 translate-y-1",enterToClass:"opacity-100 translate-y-0",leaveActiveClass:"transition ease-in duration-150",leaveFromClass:"opacity-100 translate-y-0",leaveToClass:"opacity-0 translate-y-1"},overlay:{base:"fixed inset-0 transition-opacity z-50",background:"bg-gray-200/75 dark:bg-gray-800/75",transition:{enterActiveClass:"ease-out duration-200",enterFromClass:"opacity-0",enterToClass:"opacity-100",leaveActiveClass:"ease-in duration-150",leaveFromClass:"opacity-100",leaveToClass:"opacity-0"}},popper:{strategy:"fixed"},default:{openDelay:0,closeDelay:0},arrow:oe};var re,ue=((re=ue||{})[re.Open=0]="Open",re[re.Closed=1]="Closed",re);let se=Symbol("PopoverContext");function ie(e){let t=i(se,null);if(null===t){let t=new Error(`<${e} /> is missing a parent <${ce.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ie),t}return t}let pe=Symbol("PopoverGroupContext");function ve(){return i(pe,null)}let de=Symbol("PopoverPanelContext");let ce=e({name:"Popover",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:o,attrs:l,expose:i}){var p;let v=r(null);i({el:v,$el:v});let d=r(1),c=r(null),f=r(null),b=r(null),g=r(null),y=t((()=>V(v))),m=t((()=>{var e,t;if(!N(c)||!N(g))return!1;for(let s of document.querySelectorAll("body > *"))if(Number(null==s?void 0:s.contains(N(c)))^Number(null==s?void 0:s.contains(N(g))))return!0;let o=Y(),l=o.indexOf(N(c)),a=(l+o.length-1)%o.length,n=(l+1)%o.length,r=o[a],u=o[n];return!(null!=(e=N(g))&&e.contains(r)||null!=(t=N(g))&&t.contains(u))})),P={popoverState:d,buttonId:r(null),panelId:r(null),panel:g,button:c,isPortalled:m,beforePanelSentinel:f,afterPanelSentinel:b,togglePopover(){d.value=L(d.value,{0:1,1:0})},closePopover(){1!==d.value&&(d.value=1)},close(e){P.closePopover();let t=e?e instanceof HTMLElement?e:e.value instanceof HTMLElement?N(e):N(P.button):N(P.button);null==t||t.focus()}};a(se,P),U(t((()=>L(d.value,{0:Q.Open,1:Q.Closed}))));let S={buttonId:P.buttonId,panelId:P.panelId,close(){P.closePopover()}},h=ve(),w=null==h?void 0:h.registerPopover,[k,E]=O(),T=x({mainTreeNodeRef:null==h?void 0:h.mainTreeNodeRef,portals:k,defaultContainers:[c,g]});return n((()=>null==w?void 0:w(S))),I(null==(p=y.value)?void 0:p.defaultView,"focus",(e=>{var t,o;e.target!==window&&e.target instanceof HTMLElement&&0===d.value&&(function(){var e,t,o,l;return null!=(l=null==h?void 0:h.isFocusWithinPopoverGroup())?l:(null==(e=y.value)?void 0:e.activeElement)&&((null==(t=N(c))?void 0:t.contains(y.value.activeElement))||(null==(o=N(g))?void 0:o.contains(y.value.activeElement)))}()||c&&g&&(T.contains(e.target)||null!=(t=N(P.beforePanelSentinel))&&t.contains(e.target)||null!=(o=N(P.afterPanelSentinel))&&o.contains(e.target)||P.closePopover()))}),!0),G(T.resolveContainers,((e,t)=>{var o;P.closePopover(),Z(t,te.Loose)||(e.preventDefault(),null==(o=N(c))||o.focus())}),t((()=>0===d.value))),()=>{let t={open:0===d.value,close:P.close};return u(s,[u(E,{},(()=>A({theirProps:{...e,...l},ourProps:{ref:v},slot:t,slots:o,attrs:l,name:"Popover"}))),u(T.MainTreeNode)])}}}),fe=e({name:"PopoverButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(e,{attrs:a,slots:p,expose:v}){var d;let c=null!=(d=e.id)?d:`headlessui-popover-button-${$()}`,f=ie("PopoverButton"),b=t((()=>V(f.button)));v({el:f.button,$el:f.button}),o((()=>{f.buttonId.value=c})),l((()=>{f.buttonId.value=null}));let g=ve(),y=null==g?void 0:g.closeOthers,m=i(de,null),P=t((()=>null!==m&&m.value===f.panelId.value)),S=r(null),h=`headlessui-focus-sentinel-${$()}`;P.value||n((()=>{f.button.value=N(S)}));let w=K(t((()=>({as:e.as,type:a.type}))),S);function k(e){var t,o,l,a,n;if(P.value){if(1===f.popoverState.value)return;switch(e.key){case H.Space:case H.Enter:e.preventDefault(),null==(o=(t=e.target).click)||o.call(t),f.closePopover(),null==(l=N(f.button))||l.focus()}}else switch(e.key){case H.Space:case H.Enter:e.preventDefault(),e.stopPropagation(),1===f.popoverState.value&&(null==y||y(f.buttonId.value)),f.togglePopover();break;case H.Escape:if(0!==f.popoverState.value)return null==y?void 0:y(f.buttonId.value);if(!N(f.button)||null!=(a=b.value)&&a.activeElement&&(null==(n=N(f.button))||!n.contains(b.value.activeElement)))return;e.preventDefault(),e.stopPropagation(),f.closePopover()}}function E(e){P.value||e.key===H.Space&&e.preventDefault()}function T(t){var o,l;e.disabled||(P.value?(f.closePopover(),null==(o=N(f.button))||o.focus()):(t.preventDefault(),t.stopPropagation(),1===f.popoverState.value&&(null==y||y(f.buttonId.value)),f.togglePopover(),null==(l=N(f.button))||l.focus()))}function C(e){e.preventDefault(),e.stopPropagation()}let F=B();function j(){let e=N(f.panel);e&&L(F.value,{[M.Forwards]:()=>X(e,J.First),[M.Backwards]:()=>X(e,J.Last)})===ee.Error&&X(Y().filter((e=>"true"!==e.dataset.headlessuiFocusGuard)),L(F.value,{[M.Forwards]:J.Next,[M.Backwards]:J.Previous}),{relativeTo:N(f.button)})}return()=>{let t=0===f.popoverState.value,o={open:t},{...l}=e,n=P.value?{ref:S,type:w.value,onKeydown:k,onClick:T}:{ref:S,id:c,type:w.value,"aria-expanded":0===f.popoverState.value,"aria-controls":N(f.panel)?f.panelId.value:void 0,disabled:!!e.disabled||void 0,onKeydown:k,onKeyup:E,onClick:T,onMousedown:C};return u(s,[A({ourProps:n,theirProps:{...a,...l},slot:o,attrs:a,slots:p,name:"PopoverButton"}),t&&!P.value&&f.isPortalled.value&&u(q,{id:h,features:z.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:j})])}}}),be=e({name:"PopoverPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(e,{attrs:r,slots:i,expose:p}){var v;let d=null!=(v=e.id)?v:`headlessui-popover-panel-${$()}`,{focus:c}=e,f=ie("PopoverPanel"),b=t((()=>V(f.panel))),g=`headlessui-focus-sentinel-before-${$()}`,y=`headlessui-focus-sentinel-after-${$()}`;p({el:f.panel,$el:f.panel}),o((()=>{f.panelId.value=d})),l((()=>{f.panelId.value=null})),a(de,f.panelId),n((()=>{var e,t;if(!c||0!==f.popoverState.value||!f.panel)return;let o=null==(e=b.value)?void 0:e.activeElement;null!=(t=N(f.panel))&&t.contains(o)||X(N(f.panel),J.First)}));let m=W(),P=t((()=>null!==m?(m.value&Q.Open)===Q.Open:0===f.popoverState.value));function S(e){var t,o;if(e.key===H.Escape){if(0!==f.popoverState.value||!N(f.panel)||b.value&&(null==(t=N(f.panel))||!t.contains(b.value.activeElement)))return;e.preventDefault(),e.stopPropagation(),f.closePopover(),null==(o=N(f.button))||o.focus()}}function h(e){var t,o,l,a,n;let r=e.relatedTarget;r&&N(f.panel)&&(null!=(t=N(f.panel))&&t.contains(r)||(f.closePopover(),(null!=(l=null==(o=N(f.beforePanelSentinel))?void 0:o.contains)&&l.call(o,r)||null!=(n=null==(a=N(f.afterPanelSentinel))?void 0:a.contains)&&n.call(a,r))&&r.focus({preventScroll:!0})))}let w=B();function k(){let e=N(f.panel);e&&L(w.value,{[M.Forwards]:()=>{var t;X(e,J.First)===ee.Error&&(null==(t=N(f.afterPanelSentinel))||t.focus())},[M.Backwards]:()=>{var e;null==(e=N(f.button))||e.focus({preventScroll:!0})}})}function E(){let e=N(f.panel);e&&L(w.value,{[M.Forwards]:()=>{let e=N(f.button),t=N(f.panel);if(!e)return;let o=Y(),l=o.indexOf(e),a=o.slice(0,l+1),n=[...o.slice(l+1),...a];for(let r of n.slice())if("true"===r.dataset.headlessuiFocusGuard||null!=t&&t.contains(r)){let e=n.indexOf(r);-1!==e&&n.splice(e,1)}X(n,J.First,{sorted:!1})},[M.Backwards]:()=>{var t;X(e,J.Previous)===ee.Error&&(null==(t=N(f.button))||t.focus())}})}return()=>{let t={open:0===f.popoverState.value,close:f.close},{focus:o,...l}=e,a={ref:f.panel,id:d,onKeydown:S,onFocusout:c&&0===f.popoverState.value?h:void 0,tabIndex:-1};return A({ourProps:a,theirProps:{...r,...l},attrs:r,slot:t,slots:{...i,default:(...e)=>{var t;return[u(s,[P.value&&f.isPortalled.value&&u(q,{id:g,ref:f.beforePanelSentinel,features:z.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:k}),null==(t=i.default)?void 0:t.call(i,...e),P.value&&f.isPortalled.value&&u(q,{id:y,ref:f.afterPanelSentinel,features:z.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:E})])]}},features:_.RenderStrategy|_.Static,visible:P.value,name:"PopoverPanel"})}}});const ge=E(j.ui.strategy,j.ui.popover,ne),ye=e({components:{HPopover:ce,HPopoverButton:fe,HPopoverPanel:be},inheritAttrs:!1,props:{mode:{type:String,default:"click",validator:e=>["click","hover"].includes(e)},open:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},openDelay:{type:Number,default:()=>ge.default.openDelay},closeDelay:{type:Number,default:()=>ge.default.closeDelay},overlay:{type:Boolean,default:!1},popper:{type:Object,default:()=>({})},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:open"],setup(e,{emit:l}){const{ui:a,attrs:n}=le("popover",T(e,"ui"),ge,T(e,"class")),u=t((()=>C("hover"===e.mode?{offsetDistance:0}:{},e.popper,a.value.popper))),[s,i]=ae(u.value),p=r(null),v=r(null);let d=null,c=null;o((()=>{var t,o;const l=null==(t=p.value)?void 0:t.$.provides;if(!l)return;const a=Object.getOwnPropertySymbols(l);v.value=a.length&&l[a[0]],e.open&&(null==(o=v.value)||o.togglePopover())}));const f=t((()=>{var t,o,l;if("hover"!==e.mode)return{};const n=(null==(t=e.popper)?void 0:t.offsetDistance)||(null==(o=a.value.popper)?void 0:o.offsetDistance)||8,r=null==(l=u.value.placement)?void 0:l.split("-")[0],s=`${n}px`;return"top"===r||"bottom"===r?{paddingTop:s,paddingBottom:s}:"left"===r||"right"===r?{paddingLeft:s,paddingRight:s}:{paddingTop:s,paddingBottom:s,paddingLeft:s,paddingRight:s}}));return F((()=>e.open),((e,t)=>{v.value&&void 0!==t&&e!==t&&(e?v.value.popoverState=0:v.value.closePopover())})),F((()=>{var e;return null==(e=v.value)?void 0:e.popoverState}),((e,t)=>{void 0!==t&&e!==t&&l("update:open",0===e)})),R((()=>D())),{ui:a,attrs:n,popover:p,popper:u,trigger:s,container:i,containerStyle:f,onTouchStart:function(t){t.cancelable&&v.value&&"click"!==e.mode&&(0===v.value.popoverState?v.value.closePopover():v.value.togglePopover())},onMouseEnter:function(){"hover"===e.mode&&v.value&&(c&&(clearTimeout(c),c=null),0!==v.value.popoverState&&(d=d||setTimeout((()=>{v.value.togglePopover&&v.value.togglePopover(),d=null}),e.openDelay)))},onMouseLeave:function(){"hover"===e.mode&&v.value&&(d&&(clearTimeout(d),d=null),1!==v.value.popoverState&&(c=c||setTimeout((()=>{v.value.closePopover&&v.value.closePopover(),c=null}),e.closeDelay)))}}}}),me=["disabled"];const Pe=p(ye,[["render",function(e,t,o,l,a,n){const r=P("HPopoverButton"),u=P("HPopoverPanel"),s=P("HPopover");return d(),v(s,h({ref:"popover",class:e.ui.wrapper},e.attrs,{onMouseleave:e.onMouseLeave}),{default:c((({open:o,close:l})=>[f(r,{ref:"trigger",as:"div",disabled:e.disabled,class:m(e.ui.trigger),role:"button",onMouseenter:e.onMouseEnter,onTouchstartPassive:e.onTouchStart},{default:c((()=>[y(e.$slots,"default",{open:o,close:l},(()=>[w("button",{disabled:e.disabled}," Open ",8,me)]))])),_:2},1032,["disabled","class","onMouseenter","onTouchstartPassive"]),e.overlay?(d(),v(S,h({key:0,appear:""},e.ui.overlay.transition),{default:c((()=>[o?(d(),g("div",{key:0,class:m([e.ui.overlay.base,e.ui.overlay.background])},null,2)):b("",!0)])),_:2},1040)):b("",!0),o?(d(),g("div",{key:1,ref:"container",class:m([e.ui.container,e.ui.width]),style:k(e.containerStyle),onMouseenter:t[0]||(t[0]=(...t)=>e.onMouseEnter&&e.onMouseEnter(...t))},[f(S,h({appear:""},e.ui.transition),{default:c((()=>[w("div",null,[e.popper.arrow?(d(),g("div",{key:0,"data-popper-arrow":"",class:m(Object.values(e.ui.arrow))},null,2)):b("",!0),f(u,{class:m([e.ui.base,e.ui.background,e.ui.ring,e.ui.rounded,e.ui.shadow]),static:""},{default:c((()=>[y(e.$slots,"panel",{open:o,close:l})])),_:2},1032,["class"])])])),_:2},1040)],38)):b("",!0)])),_:3},16,["class","onMouseleave"])}]]);export{Pe as default};
