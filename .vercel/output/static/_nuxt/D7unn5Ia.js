import{o as e}from"./BvCfb3ib.js";import{c as n,w as t,h as o}from"./DbuPMTfp.js";import{M as i,B as r,r as a}from"./hFqZFfy7.js";function l(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function u(){return l()||/Android/gi.test(window.navigator.userAgent)}function d(e,t,o){n.isServer||i((n=>{document.addEventListener(e,t,o),n((()=>document.removeEventListener(e,t,o)))}))}function c(e,t,o){n.isServer||i((n=>{window.addEventListener(e,t,o),n((()=>window.removeEventListener(e,t,o)))}))}function s(n,i,l=r((()=>!0))){function s(r,a){if(!l.value||r.defaultPrevented)return;let u=a(r);if(null===u||!u.getRootNode().contains(u))return;let d=function e(n){return"function"==typeof n?e(n()):Array.isArray(n)||n instanceof Set?n:[n]}(n);for(let n of d){if(null===n)continue;let t=n instanceof HTMLElement?n:e(n);if(null!=t&&t.contains(u)||r.composed&&r.composedPath().includes(t))return}return!t(u,o.Loose)&&-1!==u.tabIndex&&r.preventDefault(),i(r,u)}let v=a(null);d("pointerdown",(e=>{var n,t;l.value&&(v.value=(null==(t=null==(n=e.composedPath)?void 0:n.call(e))?void 0:t[0])||e.target)}),!0),d("mousedown",(e=>{var n,t;l.value&&(v.value=(null==(t=null==(n=e.composedPath)?void 0:n.call(e))?void 0:t[0])||e.target)}),!0),d("click",(e=>{u()||v.value&&(s(e,(()=>v.value)),v.value=null)}),!0),d("touchend",(e=>s(e,(()=>e.target instanceof HTMLElement?e.target:null))),!0),c("blur",(e=>s(e,(()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null))),!0)}export{c as a,u as n,l as t,s as w};
