import{PrismaClient as e}from"@prisma/client";import{d as t,c as o}from"../../../../nitro/nitro.mjs";import"mammoth";import"pdf.js-extract";import"node:http";import"node:https";import"@vercel/kv";import"@iconify/utils";import"consola/core";const r=new e,a=t((async e=>{var t;try{const a=null==(t=e.context.params)?void 0:t.id;if(!a)throw o({statusCode:400,message:"ID de evento no proporcionado"});const i=parseInt(a),n=await r.recordatorio.findUnique({where:{id:i},include:{asignatura:!0}});if(!n)throw o({statusCode:404,message:"Evento no encontrado"});if(!await r.asignatura.findUnique({where:{id:n.asignaturaId},include:{docente:!0}}))throw o({statusCode:404,message:"Asignatura no encontrada"});return await r.recordatorio.delete({where:{id:i}}),{success:!0,message:"Evento eliminado correctamente"}}catch(e){throw console.error("Error al eliminar el evento:",e),o({statusCode:e.statusCode||500,message:e.message||"Error al eliminar el evento"})}}));export{a as default};
//# sourceMappingURL=_id_.delete.mjs.map
