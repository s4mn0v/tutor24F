import{d as a,c as t}from"../../../nitro/nitro.mjs";import{PrismaClient as r}from"@prisma/client";import"mammoth";import"pdf.js-extract";import"node:http";import"node:https";import"@vercel/kv";import"@iconify/utils";import"consola/core";const e=new r,s=a((async a=>{var r;const s=null==(r=a.context.params)?void 0:r.id;if(!s)throw t({statusCode:400,statusMessage:"ID de asignatura no proporcionado"});try{return await e.estudiante.deleteMany({where:{asignaturaId:Number.parseInt(s)}}),await e.asignatura.delete({where:{id:Number.parseInt(s)}}),{message:"Asignatura y estudiantes asociados eliminados exitosamente"}}catch(a){throw console.error("Error detallado al eliminar la asignatura:",a),a instanceof Error?t({statusCode:500,statusMessage:`Error al eliminar la asignatura: ${a.message}`}):t({statusCode:500,statusMessage:"Error desconocido al eliminar la asignatura"})}}));export{s as default};
//# sourceMappingURL=_id_.delete.mjs.map
