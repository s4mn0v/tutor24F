import{d as t,c as r}from"../../../nitro/nitro.mjs";import{PrismaClient as a}from"@prisma/client";import"underscore";import"bluebird/js/release/promise";import"base64-js";import"jszip";import"@xmldom/xmldom";import"@xmldom/xmldom/lib/dom";import"xmlbuilder";import"dingbat-to-unicode";import"fs";import"url";import"os";import"path";import"path-is-absolute";import"pdf.js-extract";import"node:http";import"node:https";import"@vercel/kv";import"@iconify/utils";import"consola/core";const o=new a,e=t((async t=>{var a;const e=null==(a=t.context.params)?void 0:a.id;if(!e)throw r({statusCode:400,statusMessage:"ID de asignatura no proporcionado"});try{return await o.estudiante.deleteMany({where:{asignaturaId:Number.parseInt(e)}}),await o.asignatura.delete({where:{id:Number.parseInt(e)}}),{message:"Asignatura y estudiantes asociados eliminados exitosamente"}}catch(t){throw console.error("Error detallado al eliminar la asignatura:",t),t instanceof Error?r({statusCode:500,statusMessage:`Error al eliminar la asignatura: ${t.message}`}):r({statusCode:500,statusMessage:"Error desconocido al eliminar la asignatura"})}}));export{e as default};
//# sourceMappingURL=_id_.delete.mjs.map
