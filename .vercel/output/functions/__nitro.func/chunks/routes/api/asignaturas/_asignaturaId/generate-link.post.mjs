import{d as r,c as o}from"../../../../nitro/nitro.mjs";import{PrismaClient as t}from"@prisma/client";import{v4 as e}from"uuid";import"underscore";import"bluebird/js/release/promise";import"base64-js";import"jszip";import"@xmldom/xmldom";import"@xmldom/xmldom/lib/dom";import"xmlbuilder";import"dingbat-to-unicode";import"fs";import"url";import"os";import"path";import"path-is-absolute";import"pdf.js-extract";import"node:http";import"node:https";import"@vercel/kv";import"@iconify/utils";import"consola/core";const i=new t,a=r((async r=>{var t;const a=Number(null==(t=r.context.params)?void 0:t.asignaturaId);try{const r=e(),o=new Date(Date.now()+12e5),t=await i.asignatura.update({where:{id:a},data:{enlaceRegistro:r,fechaExpiracion:o}});return{enlaceRegistro:t.enlaceRegistro,fechaExpiracion:t.fechaExpiracion}}catch(r){return console.error("Error generando el enlace:",r),o({statusCode:500,message:"Error generando el enlace"})}finally{await i.$disconnect()}}));export{a as default};
//# sourceMappingURL=generate-link.post.mjs.map
