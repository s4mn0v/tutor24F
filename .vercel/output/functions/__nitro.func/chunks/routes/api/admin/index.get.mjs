import{Prisma as e,Rol as t,PrismaClient as i}from"@prisma/client";import{d as o,g as n}from"../../../nitro/nitro.mjs";import"mammoth";import"pdf.js-extract";import"node:http";import"node:https";import"@vercel/kv";import"@iconify/utils";import"consola/core";const a=new i,r=o((async i=>{const o=n(i),r=parseInt(o.page)||1,s=parseInt(o.limit)||50,m=o.search||"",c={docente:{is:{rol:t.DOCENTE}},OR:[{nombre:{contains:m,mode:e.QueryMode.insensitive}},{carrera:{contains:m,mode:e.QueryMode.insensitive}},{docente:{is:{nombre:{contains:m,mode:e.QueryMode.insensitive}}}}]},p=await a.asignatura.count({where:c});return{asignaturas:await a.asignatura.findMany({where:c,skip:(r-1)*s,take:s,include:{docente:{select:{id:!0,nombre:!0}}}}),total:p,page:r,totalPages:Math.ceil(p/s)}}));export{r as default};
//# sourceMappingURL=index.get.mjs.map
