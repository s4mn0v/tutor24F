import{Rol as o,PrismaClient as t}from"@prisma/client";import{d as e,g as a}from"../../../nitro/nitro.mjs";import"mammoth";import"pdf.js-extract";import"node:http";import"node:https";import"@vercel/kv";import"@iconify/utils";import"consola/core";const r=new t,n=e((async t=>{const e=a(t),n=parseInt(e.page)||1,i=parseInt(e.limit)||50,s=e.search||"",c={rol:o.DOCENTE,OR:[{nombre:{contains:s.toLocaleLowerCase()}},{correo:{contains:s.toLocaleLowerCase()}},{telefono:{contains:s.toLocaleLowerCase()}},{documentoIdentidad:{contains:s.toLocaleLowerCase()}}]},m=await r.usuario.count({where:c});return{users:await r.usuario.findMany({where:c,skip:(n-1)*i,take:i,select:{id:!0,documentoIdentidad:!0,nombre:!0,correo:!0,telefono:!0,rol:!0,contrasena:!0}}),total:m,page:n,totalPages:Math.ceil(m/i)}}));export{n as default};
//# sourceMappingURL=_users_.get.mjs.map
