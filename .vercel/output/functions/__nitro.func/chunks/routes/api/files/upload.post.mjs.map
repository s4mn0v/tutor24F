{"version":3,"file":"upload.post.mjs","sources":["../../../../../../../../server/api/files/upload.post.ts"],"sourcesContent":null,"names":["supabase","createClient","process","env","SUPABASE_URL","SUPABASE_KEY","prisma","PrismaClient","upload_post","defineEventHandler","async","event","form","formidable","multiples","fields","files","Promise","resolve","reject","parse","node","req","err","file","createError","statusCode","message","idAsignatura","parseInt","Array","isArray","isNaN","asignatura","findUnique","where","id","fileData","fs","readFile","filepath","data","supabaseData","error","supabaseError","storage","from","upload","originalFilename","contentType","mimetype","upsert","publicUrlData","getPublicUrl","path","publicUrl","material","create","nombre","tipo","url","success","console"],"mappings":"uVAKA,MAAAA,EAAAC,EACAC,QAAAC,IAAAC,aACAF,QAAAC,IAAAE,cAEAC,EAAA,IAAAC,EAEAC,EAAAC,GAAAC,MAAAC,IACA,IACA,MAAAC,EAAAC,EAAA,CAAAC,WAAA,KACAC,OAAAA,QAAAC,SAAA,IAAAC,SAGA,CAAAC,EAAAC,KACAP,EAAAQ,MAAAT,EAAAU,KAAAC,KAAA,CAAAC,EAAAR,EAAAC,KACAO,KAAAA,GACAL,EAAA,CAAAH,OAAAA,EAAAC,MAAAA,GAAA,GACA,IAIA,IAAAA,EAAAQ,KACA,MAAAC,EAAA,CACAC,WAAA,IACAC,QAAA,kCAKA,MAAAC,EAAAC,SACAC,MAAAC,QAAAhB,EAAAa,cACAb,EAAAa,aAAA,GACAb,EAAAa,cAAA,KAEA,GAAAI,MAAAJ,GACA,MAAAH,EAAA,CACAC,WAAA,IACAC,QAAA,yCAQA,UAHArB,EAAA2B,WAAAC,WAAA,CACAC,MAAA,CAAAC,GAAAR,KAGA,MAAAH,EAAA,CACAC,WAAA,IACAC,QAAA,6BAKA,MAAAH,EAAAM,MAAAC,QAAAf,EAAAQ,MAAAR,EAAAQ,KAAA,GAAAR,EAAAQ,KACAa,QAAAC,EAAAC,SAAAf,EAAAgB,WACAC,KAAAC,EAAAC,MAAAC,SAAA5C,EAAA6C,QACAC,KAAA,SACAC,OAAAvB,EAAAwB,iBAAAX,EAAA,CACAY,YAAAzB,EAAA0B,SACAC,QAAA,IAGA,GAAAP,EACA,MAAAnB,EAAA,CACAC,WAAA,IACAC,QAAA,0CAKA,MAAAc,KAAAW,GAAApD,EAAA6C,QACAC,KAAA,SACAO,aAAAX,EAAAY,MACAC,EAAAH,EAAAG,UAYA,aATAjD,EAAAkD,SAAAC,OAAA,CACAhB,KAAA,CACAiB,OAAAlC,EAAAwB,kBAAA,UACAW,KAAAnC,EAAA0B,UAAA,2BACAU,IAAAL,EACA3B,kBAIA,CAAAiC,SAAA,SACAtC,GAEA,MADAuC,QAAAnB,MAAApB,GACAE,EAAA,CACAC,WAAA,IACAC,QAAA,+BACA"}