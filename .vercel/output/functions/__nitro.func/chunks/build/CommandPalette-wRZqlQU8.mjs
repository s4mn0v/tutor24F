import e from"./Icon-Di_vDYyH.mjs";import t from"./Button-C-PkUfPN.mjs";import{resolveComponent as a,mergeProps as o,withCtx as i,withDirectives as r,createBlock as l,renderSlot as n,createCommentVNode as u,createVNode as s,openBlock as m,vShow as p,Fragment as c,renderList as d,createSlots as y,toDisplayString as f,defineComponent as g,toRef as b,ref as x,computed as h,watch as v,useId as k,useSSRContext as S}from"vue";import{a as j,t as w,e as B}from"./combobox-HhHBMj2s.mjs";import{s as C}from"./keyboard-CrgOGGit.mjs";import{useDebounceFn as q}from"@vueuse/core";import{useFuse as I}from"@vueuse/integrations/useFuse";import{twJoin as A}from"tailwind-merge";import{v as $}from"../nitro/nitro.mjs";import{s as O}from"./tooltip-P8fr8pDa.mjs";import{_ as P,m as H,g as _}from"./entry-B1wW15I9.mjs";import L from"./CommandPaletteGroup-DUrGCdGe.mjs";import{ssrRenderComponent as N,ssrRenderStyle as D,ssrRenderClass as G,ssrRenderList as U,ssrRenderSlot as z,ssrInterpolate as V}from"vue/server-renderer";import"./index-CQS-gLPq.mjs";import"@iconify/vue";import"@iconify/utils/lib/css/icon";import"underscore";import"bluebird/js/release/promise";import"base64-js";import"jszip";import"@xmldom/xmldom";import"@xmldom/xmldom/lib/dom";import"xmlbuilder";import"dingbat-to-unicode";import"fs";import"url";import"os";import"path";import"path-is-absolute";import"pdf.js-extract";import"node:http";import"node:https";import"@vercel/kv";import"@iconify/utils";import"consola/core";import"unhead";import"@unhead/shared";import"vue-router";import"@prisma/client";import"vue3-apexcharts";import"./Link-BdFoBY4y.mjs";import"./link-Ch5OrHHS.mjs";import"./useButtonGroup-DOVi4PLM.mjs";import"./button-CHOj1P8S.mjs";import"@tanstack/vue-virtual";import"./form-Bmq-q-BN.mjs";import"./active-element-history-BCSenD5G.mjs";import"./micro-task-Yfl05yA4.mjs";import"./use-outside-click-qQ0I4h8Q.mjs";import"./focus-management-DUDUmKqn.mjs";import"./use-resolve-button-type-BA0kmWgg.mjs";import"./calculate-active-index-BW1n3MTi.mjs";import"./hidden-CFl4aoYx.mjs";import"./open-closed-pt2NNRlg.mjs";import"./Avatar-DoxxepFO.mjs";import"./Kbd-DHJmTwTI.mjs";const W=H(_.ui.strategy,_.ui.commandPalette,{wrapper:"flex flex-col flex-1 min-h-0 divide-y divide-gray-100 dark:divide-gray-800",container:"relative flex-1 overflow-y-auto divide-y divide-gray-100 dark:divide-gray-800 scroll-py-2",input:{wrapper:"relative flex items-center",base:"w-full placeholder-gray-400 dark:placeholder-gray-500 bg-transparent border-0 text-gray-900 dark:text-white focus:ring-0 focus:outline-none",padding:"px-4",height:"h-12",size:"sm:text-sm",icon:{base:"pointer-events-none absolute start-4 text-gray-400 dark:text-gray-500",loading:"animate-spin",size:"h-5 w-5",padding:"ps-11"},closeButton:{base:"absolute end-4",padding:"pe-10"}},emptyState:{wrapper:"flex flex-col items-center justify-center flex-1 px-6 py-14 sm:px-14",label:"text-sm text-center text-gray-900 dark:text-white",queryLabel:"text-sm text-center text-gray-900 dark:text-white",icon:"w-6 h-6 mx-auto text-gray-400 dark:text-gray-500 mb-4"},group:{wrapper:"p-2",label:"px-2.5 my-2 text-xs font-semibold text-gray-900 dark:text-white",container:"text-sm text-gray-700 dark:text-gray-200",command:{base:"flex justify-between select-none items-center rounded-md px-2.5 py-1.5 gap-2 relative",active:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactive:"",label:"flex items-center gap-1.5 min-w-0",prefix:"text-gray-400 dark:text-gray-500",suffix:"text-gray-400 dark:text-gray-500",container:"flex items-center gap-1.5 min-w-0",icon:{base:"flex-shrink-0 w-5 h-5",active:"text-gray-900 dark:text-white",inactive:"text-gray-400 dark:text-gray-500"},selectedIcon:{base:"h-5 w-5 text-gray-900 dark:text-white flex-shrink-0"},avatar:{base:"flex-shrink-0",size:"2xs"},chip:{base:"flex-shrink-0 w-2 h-2 mx-1 rounded-full"},disabled:"opacity-50",shortcuts:"hidden md:inline-flex flex-shrink-0 gap-0.5"},active:"flex-shrink-0 text-gray-500 dark:text-gray-400",inactive:"flex-shrink-0 text-gray-500 dark:text-gray-400"},default:{icon:"i-heroicons-magnifying-glass-20-solid",loadingIcon:"i-heroicons-arrow-path-20-solid",emptyState:{icon:"i-heroicons-magnifying-glass-20-solid",label:"We couldn't find any items.",queryLabel:"We couldn't find any items with that term. Please try again."},closeButton:null,selectedIcon:"i-heroicons-check-20-solid"}}),T=g({components:{HCombobox:B,HComboboxInput:w,HComboboxOptions:j,UIcon:e,UButton:t,CommandPaletteGroup:L},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object,Array],default:null},by:{type:String,default:"id"},multiple:{type:Boolean,default:!1},nullable:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},groups:{type:Array,default:()=>[]},icon:{type:String,default:()=>W.default.icon},loadingIcon:{type:String,default:()=>W.default.loadingIcon},selectedIcon:{type:String,default:()=>W.default.selectedIcon},closeButton:{type:Object,default:()=>W.default.closeButton},emptyState:{type:Object,default:()=>W.default.emptyState},placeholder:{type:String,default:"Search..."},groupAttribute:{type:String,default:"label"},commandAttribute:{type:String,default:"label"},autoselect:{type:Boolean,default:!0},autoclear:{type:Boolean,default:!0},debounce:{type:Number,default:200},fuse:{type:Object,default:()=>({})},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","close"],setup(e,{emit:t,expose:a}){const{ui:o,attrs:i}=O("commandPalette",b(e,"ui"),W,b(e,"class")),r=x(""),l=x(),n=x(null),u=x(!1),s=h((()=>$({},e.fuse,{fuseOptions:{keys:[e.commandAttribute]},resultLimit:12,matchAllWhenSearchEmpty:!0}))),m=h((()=>{var t;const a=[];for(const o of e.groups)o.search||o.static||a.push(...(null==(t=o.commands)?void 0:t.map((e=>({...e,group:o.key}))))||[]);return a})),p=x({}),{results:c}=I(r,m,s);function d2(e,t){if(e)return e.filter&&"function"==typeof e.filter&&(t=e.filter(r.value,t)),{...e,commands:t.slice(0,s.value.resultLimit)}}const d=h((()=>{if(!c.value)return[];const t=c.value.reduce(((e,t)=>{var a;const{item:o,...i}=t;return o.group?(e[a=o.group]||(e[a]=[]),e[o.group].push({...o,...i}),e):e}),{});return[...Object.entries(t).map((([t,a])=>{const o=e.groups.find((e=>e.key===t));return o?d2(o,a):null})).filter(Boolean),...e.groups.filter((e=>{var t;return!!e.search&&(null==(t=p.value[e.key])?void 0:t.length)})).map((e=>d2(e,[...p.value[e.key]||[]]))),...e.groups.filter((e=>{var t;return e.static&&(null==(t=e.commands)?void 0:t.length)})).map((e=>d2(e,e.commands)))]})),y=q((async()=>{const t=e.groups.filter((e=>!!e.search));t.length&&(u.value=!0,await Promise.all(t.map((async e=>{p.value[e.key]=await e.search(r.value)}))),u.value=!1,j2())}),e.debounce);v(r,(()=>{y(),j2()}));const f=h((()=>(e.loading||u.value)&&e.loadingIcon?e.loadingIcon:e.icon)),g=h((()=>A(o.value.input.icon.base,o.value.input.icon.size,(e.loading||u.value)&&e.loadingIcon&&o.value.input.icon.loading))),S=h((()=>null===e.emptyState?null:{...o.value.default.emptyState,...e.emptyState}));function j2(){setTimeout((()=>{var e;null==(e=l.value)||e.$el.dispatchEvent(new KeyboardEvent("keydown",{key:"PageUp"}))}),0)}return a({query:r,updateQuery:e=>{r.value=e},comboboxApi:n,results:c}),C((()=>k())),{ui:o,attrs:i,groups:d,comboboxInput:l,query:r,iconName:f,iconClass:g,emptyState:S,onSelect:function(a){t("update:modelValue",a,{query:r.value}),e.autoclear&&setTimeout((()=>{r.value=""}),0)},onClear:function(){r.value?r.value="":t("close")}}}}),F=T.setup;T.setup=(e,t)=>{const a=S();return(a.modules||(a.modules=new Set)).add("node_modules/@nuxt/ui/dist/runtime/components/navigation/CommandPalette.vue"),F?F(e,t):void 0};const Q=P(T,[["ssrRender",function(g,b,x,h,v,k,S,j){const w=a("HCombobox"),B=e,C=a("HComboboxInput"),q=t,I=a("HComboboxOptions"),A=a("CommandPaletteGroup");b(N(w,o({by:g.by,"model-value":g.modelValue,multiple:g.multiple,nullable:g.nullable,class:g.ui.wrapper},g.attrs,{as:"div","onUpdate:modelValue":g.onSelect},h),{default:i(((e,t,a,b)=>{if(!t)return[r(s("div",{class:g.ui.input.wrapper},[g.iconName?(m(),l(B,{key:0,name:g.iconName,class:g.iconClass,"aria-hidden":"true"},null,8,["name","class"])):u("",!0),s(C,{ref:"comboboxInput",value:g.query,class:[g.ui.input.base,g.ui.input.size,g.ui.input.height,g.ui.input.padding,g.icon&&g.ui.input.icon.padding,g.closeButton&&g.ui.input.closeButton.padding],placeholder:g.placeholder,"aria-label":g.placeholder,autocomplete:"off",onChange:e=>g.query=e.target.value},null,8,["value","class","placeholder","aria-label","onChange"]),g.closeButton?(m(),l(q,o({key:1,"aria-label":"Close"},{...g.ui.default.closeButton||{},...g.closeButton},{class:g.ui.input.closeButton.base,onClick:g.onClear}),null,16,["class","onClick"])):u("",!0)],2),[[p,g.searchable]]),g.groups.length?(m(),l(I,{key:0,static:"",hold:"",as:"div","aria-label":"Commands",class:g.ui.container},{default:i((()=>[(m(!0),l(c,null,d(g.groups,(e=>(m(),l(A,{key:e.key,query:g.query,group:e,"group-attribute":g.groupAttribute,"command-attribute":g.commandAttribute,"selected-icon":g.selectedIcon,ui:g.ui},y({_:2},[d(g.$slots,((e,t)=>({name:t,fn:i((e=>[n(g.$slots,t,o({ref_for:!0},e))]))})))]),1032,["query","group","group-attribute","command-attribute","selected-icon","ui"])))),128))])),_:3},8,["class"])):g.emptyState?n(g.$slots,"empty-state",{key:1},(()=>[s("div",{class:g.ui.emptyState.wrapper},[g.emptyState.icon?(m(),l(B,{key:0,name:g.emptyState.icon,class:g.ui.emptyState.icon,"aria-hidden":"true"},null,8,["name","class"])):u("",!0),s("p",{class:g.query?g.ui.emptyState.queryLabel:g.ui.emptyState.label},f(g.query?g.emptyState.queryLabel:g.emptyState.label),3)],2)])):u("",!0)];t(`<div style="${D(g.searchable?null:{display:"none"})}" class="${G(g.ui.input.wrapper)}"${b}>`),g.iconName?t(N(B,{name:g.iconName,class:g.iconClass,"aria-hidden":"true"},null,a,b)):t("\x3c!----\x3e"),t(N(C,{ref:"comboboxInput",value:g.query,class:[g.ui.input.base,g.ui.input.size,g.ui.input.height,g.ui.input.padding,g.icon&&g.ui.input.icon.padding,g.closeButton&&g.ui.input.closeButton.padding],placeholder:g.placeholder,"aria-label":g.placeholder,autocomplete:"off",onChange:e=>g.query=e.target.value},null,a,b)),g.closeButton?t(N(q,o({"aria-label":"Close"},{...g.ui.default.closeButton||{},...g.closeButton},{class:g.ui.input.closeButton.base,onClick:g.onClear}),null,a,b)):t("\x3c!----\x3e"),t("</div>"),g.groups.length?t(N(I,{static:"",hold:"",as:"div","aria-label":"Commands",class:g.ui.container},{default:i(((e,t,a,r)=>{if(!t)return[(m(!0),l(c,null,d(g.groups,(e=>(m(),l(A,{key:e.key,query:g.query,group:e,"group-attribute":g.groupAttribute,"command-attribute":g.commandAttribute,"selected-icon":g.selectedIcon,ui:g.ui},y({_:2},[d(g.$slots,((e,t)=>({name:t,fn:i((e=>[n(g.$slots,t,o({ref_for:!0},e))]))})))]),1032,["query","group","group-attribute","command-attribute","selected-icon","ui"])))),128))];t("\x3c!--[--\x3e"),U(g.groups,(e=>{t(N(A,{key:e.key,query:g.query,group:e,"group-attribute":g.groupAttribute,"command-attribute":g.commandAttribute,"selected-icon":g.selectedIcon,ui:g.ui},y({_:2},[d(g.$slots,((e,t)=>({name:t,fn:i(((e,a,i,r)=>{if(!a)return[n(g.$slots,t,o({ref_for:!0},e))];z(g.$slots,t,o({ref_for:!0},e),null,a,i,r)}))})))]),a,r))})),t("\x3c!--]--\x3e")})),_:3},a,b)):g.emptyState?z(g.$slots,"empty-state",{},(()=>{t(`<div class="${G(g.ui.emptyState.wrapper)}"${b}>`),g.emptyState.icon?t(N(B,{name:g.emptyState.icon,class:g.ui.emptyState.icon,"aria-hidden":"true"},null,a,b)):t("\x3c!----\x3e"),t(`<p class="${G(g.query?g.ui.emptyState.queryLabel:g.ui.emptyState.label)}"${b}>${V(g.query?g.emptyState.queryLabel:g.emptyState.label)}</p></div>`)}),t,a,b):t("\x3c!----\x3e")})),_:3},x))}]]);export{Q as default};
//# sourceMappingURL=CommandPalette-wRZqlQU8.mjs.map
