import{ssrRenderAttrs as e,ssrRenderComponent as l,ssrInterpolate as o}from"vue/server-renderer";import a from"./Card-B6mXdLK8.mjs";import r from"./Button-C-PkUfPN.mjs";import n from"./Input-CPH3LW_6.mjs";import t from"./Table-CnzkCUlD.mjs";import d from"./Dropdown-4O5NERc1.mjs";import u from"./Pagination-BuhQ7ldj.mjs";import{defineComponent as s,ref as m,watch as i,withCtx as c,createVNode as p,createBlock as f,createCommentVNode as b,openBlock as v,mergeProps as V,createTextVNode as y,toDisplayString as h,useSSRContext as g}from"vue";import U from"./Modal-ButbbXX6.mjs";import _ from"./Alert-el3HWHDj.mjs";import C from"./Form-No2qvc6o.mjs";import k from"./FormGroup-YgMxEyO3.mjs";import"tailwind-merge";import"./tooltip-P8fr8pDa.mjs";import"./entry-B1wW15I9.mjs";import"../nitro/nitro.mjs";import"mammoth";import"pdf.js-extract";import"node:http";import"node:https";import"@vercel/kv";import"@iconify/utils";import"consola/core";import"unhead";import"@unhead/shared";import"vue-router";import"@prisma/client";import"@vueuse/core";import"@iconify/vue";import"vue3-apexcharts";import"./Link-BdFoBY4y.mjs";import"./link-Ch5OrHHS.mjs";import"./Icon-Di_vDYyH.mjs";import"./index-CQS-gLPq.mjs";import"@iconify/utils/lib/css/icon";import"./useButtonGroup-DOVi4PLM.mjs";import"./button-CHOj1P8S.mjs";import"./useFormGroup-Dj1FOV-7.mjs";import"./Checkbox-DluAUzfD.mjs";import"./Progress-C6AH6urk.mjs";import"./Avatar-DoxxepFO.mjs";import"./Kbd-DHJmTwTI.mjs";import"./keyboard-CrgOGGit.mjs";import"./use-outside-click-qQ0I4h8Q.mjs";import"./focus-management-DUDUmKqn.mjs";import"./use-resolve-button-type-BA0kmWgg.mjs";import"./use-text-value-B7fijwT4.mjs";import"./calculate-active-index-BW1n3MTi.mjs";import"./open-closed-pt2NNRlg.mjs";import"./usePopper-BYI_GJ1j.mjs";import"./transition-Ccui9lse.mjs";import"./portal-DUbJEEiU.mjs";import"./hidden-CFl4aoYx.mjs";import"./active-element-history-BCSenD5G.mjs";import"./micro-task-Yfl05yA4.mjs";import"./description-CM0EfvpF.mjs";const I=s({__name:"DeleteModal",__ssrInlineRender:!0,props:{user:{type:Object,required:!1,default:()=>null},selectedUsers:{type:Array,required:!1,default:()=>[]}},emits:["confirm"],setup(e,{expose:n,emit:t}){const d=e,u=t,s=m(!1),y2=()=>{s.value=!1},h2=()=>{d.user?u("confirm",d.user):d.selectedUsers.length>0&&u("confirm",d.selectedUsers),y2()};return n({openModalDelete:()=>{s.value=!0},closeModal:y2}),(n,t,d,u)=>{const m=a,i=r;t(l(U,V({modelValue:s.value,"onUpdate:modelValue":e=>s.value=e},u),{default:c(((a,r,n,t)=>{if(!r)return[p(m,null,{header:c((()=>[p("h3",{class:"text-lg font-semibold"},"Confirmar Eliminación")])),footer:c((()=>[p("div",{class:"flex justify-end gap-3"},[p(i,{color:"gray",onClick:y2},{default:c((()=>[y("Cancelar")])),_:1}),p(i,{color:"red",onClick:h2},{default:c((()=>[y("Eliminar")])),_:1})])])),default:c((()=>[e.user?(v(),f("p",{key:0},[y("¿Estás seguro de que deseas eliminar a "),p("strong",null,h(e.user.nombre),1),y("?")])):e.selectedUsers.length>0?(v(),f("p",{key:1},[y(" ¿Estás seguro de que deseas eliminar a los "),p("strong",null,h(e.selectedUsers.length),1),y(" usuarios seleccionados? ")])):(v(),f("p",{key:2},"No se ha seleccionado ningún usuario para eliminar."))])),_:1})];r(l(m,null,{header:c(((e,l,o,a)=>{if(!l)return[p("h3",{class:"text-lg font-semibold"},"Confirmar Eliminación")];l(`<h3 class="text-lg font-semibold"${a}>Confirmar Eliminación</h3>`)})),footer:c(((e,o,a,r)=>{if(!o)return[p("div",{class:"flex justify-end gap-3"},[p(i,{color:"gray",onClick:y2},{default:c((()=>[y("Cancelar")])),_:1}),p(i,{color:"red",onClick:h2},{default:c((()=>[y("Eliminar")])),_:1})])];o(`<div class="flex justify-end gap-3"${r}>`),o(l(i,{color:"gray",onClick:y2},{default:c(((e,l,o,a)=>{if(!l)return[y("Cancelar")];l("Cancelar")})),_:1},a,r)),o(l(i,{color:"red",onClick:h2},{default:c(((e,l,o,a)=>{if(!l)return[y("Eliminar")];l("Eliminar")})),_:1},a,r)),o("</div>")})),default:c(((l,a,r,n)=>{if(!a)return[e.user?(v(),f("p",{key:0},[y("¿Estás seguro de que deseas eliminar a "),p("strong",null,h(e.user.nombre),1),y("?")])):e.selectedUsers.length>0?(v(),f("p",{key:1},[y(" ¿Estás seguro de que deseas eliminar a los "),p("strong",null,h(e.selectedUsers.length),1),y(" usuarios seleccionados? ")])):(v(),f("p",{key:2},"No se ha seleccionado ningún usuario para eliminar."))];e.user?a(`<p${n}>¿Estás seguro de que deseas eliminar a <strong${n}>${o(e.user.nombre)}</strong>?</p>`):e.selectedUsers.length>0?a(`<p${n}> ¿Estás seguro de que deseas eliminar a los <strong${n}>${o(e.selectedUsers.length)}</strong> usuarios seleccionados? </p>`):a(`<p${n}>No se ha seleccionado ningún usuario para eliminar.</p>`)})),_:1},n,t))})),_:1},d))}}}),x=I.setup;I.setup=(e,l)=>{const o=g();return(o.modules||(o.modules=new Set)).add("components/admin/DeleteModal.vue"),x?x(e,l):void 0};const w=s({__name:"EditModal",__ssrInlineRender:!0,props:{user:{type:Object,required:!0}},emits:["submit"],setup(e,{expose:o,emit:t}){const d=e,u=t,s=m(!1),i=m(""),h=m(""),g2=e=>!!e||"Este campo es requerido.",x2=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||"Correo electrónico no válido.",I2=()=>{s.value=!1,h.value=""},w2=e=>{/[0-9]/.test(e.key)||["Backspace","Delete","ArrowLeft","ArrowRight","Tab"].includes(e.key)||e.preventDefault()},j2=e=>{/[a-zA-Z0-9@._-]/.test(e.key)||["Backspace","Delete","ArrowLeft","ArrowRight","Tab"].includes(e.key)||e.preventDefault()},q2=async()=>{const{user:e}=d;try{if(!(e.nombre&&e.correo&&e.telefono&&e.documentoIdentidad))return void(h.value="Todos los campos son requeridos, excepto la contraseña.");const l={...e};i.value&&(l.contrasena=i.value),u("submit",l),I2()}catch(e){let l="Ocurrió un error al actualizar el usuario.";if("object"==typeof e&&null!==e&&"message"in e){const o=e.message.match(/:\s*\d+\s*(.*)/);o&&o[1]&&(l=o[1].trim())}h.value=l}};return o({openModalEdit:()=>{s.value=!0,i.value=""},closeModal:I2,error:h}),(o,t,d,u)=>{const m=a,g=_,I=C,x=k,w=n,j=r;t(l(U,V({modelValue:s.value,"onUpdate:modelValue":e=>s.value=e},u),{default:c(((o,a,r,n)=>{if(!a)return[p(m,null,{header:c((()=>[p("h3",{class:"text-lg font-semibold"},"Editar Usuario")])),default:c((()=>[h.value?(v(),f(g,{key:0,"close-button":{icon:"i-heroicons-x-mark-20-solid",color:"gray",variant:"link",padded:!1},title:h.value,color:"red",onClose:e=>h.value="",variant:"outline"},null,8,["title","onClose"])):b("",!0),h.value?(v(),f("br",{key:1})):b("",!0),p(I,{state:e.user,onSubmit:q2},{default:c((()=>[p(x,{label:"Nombre",name:"nombre",required:""},{default:c((()=>[p(w,{modelValue:e.user.nombre,"onUpdate:modelValue":l=>e.user.nombre=l,rules:[g2]},null,8,["modelValue","onUpdate:modelValue","rules"])])),_:1}),p("br"),p(x,{label:"Correo",name:"correo",required:""},{default:c((()=>[p(w,{modelValue:e.user.correo,"onUpdate:modelValue":l=>e.user.correo=l,type:"email",rules:[g2,x2],onKeydown:j2},null,8,["modelValue","onUpdate:modelValue","rules"])])),_:1}),p("br"),p(x,{label:"Teléfono",name:"telefono",required:""},{default:c((()=>[p(w,{modelValue:e.user.telefono,"onUpdate:modelValue":l=>e.user.telefono=l,type:"tel",rules:[g2],onKeydown:w2},null,8,["modelValue","onUpdate:modelValue","rules"])])),_:1}),p("br"),p(x,{label:"Documento",name:"documentoIdentidad",required:""},{default:c((()=>[p(w,{modelValue:e.user.documentoIdentidad,"onUpdate:modelValue":l=>e.user.documentoIdentidad=l,type:"text",rules:[g2],onKeydown:w2},null,8,["modelValue","onUpdate:modelValue","rules"])])),_:1}),p("br"),p(x,{label:"Contraseña",name:"contrasena"},{default:c((()=>[p(w,{modelValue:i.value,"onUpdate:modelValue":e=>i.value=e,type:"password",placeholder:"Dejar en blanco para no cambiar"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),p("br"),p(j,{type:"submit"},{default:c((()=>[y("Guardar")])),_:1})])),_:1},8,["state"])])),_:1})];a(l(m,null,{header:c(((e,l,o,a)=>{if(!l)return[p("h3",{class:"text-lg font-semibold"},"Editar Usuario")];l(`<h3 class="text-lg font-semibold"${a}>Editar Usuario</h3>`)})),default:c(((o,a,r,n)=>{if(!a)return[h.value?(v(),f(g,{key:0,"close-button":{icon:"i-heroicons-x-mark-20-solid",color:"gray",variant:"link",padded:!1},title:h.value,color:"red",onClose:e=>h.value="",variant:"outline"},null,8,["title","onClose"])):b("",!0),h.value?(v(),f("br",{key:1})):b("",!0),p(I,{state:e.user,onSubmit:q2},{default:c((()=>[p(x,{label:"Nombre",name:"nombre",required:""},{default:c((()=>[p(w,{modelValue:e.user.nombre,"onUpdate:modelValue":l=>e.user.nombre=l,rules:[g2]},null,8,["modelValue","onUpdate:modelValue","rules"])])),_:1}),p("br"),p(x,{label:"Correo",name:"correo",required:""},{default:c((()=>[p(w,{modelValue:e.user.correo,"onUpdate:modelValue":l=>e.user.correo=l,type:"email",rules:[g2,x2],onKeydown:j2},null,8,["modelValue","onUpdate:modelValue","rules"])])),_:1}),p("br"),p(x,{label:"Teléfono",name:"telefono",required:""},{default:c((()=>[p(w,{modelValue:e.user.telefono,"onUpdate:modelValue":l=>e.user.telefono=l,type:"tel",rules:[g2],onKeydown:w2},null,8,["modelValue","onUpdate:modelValue","rules"])])),_:1}),p("br"),p(x,{label:"Documento",name:"documentoIdentidad",required:""},{default:c((()=>[p(w,{modelValue:e.user.documentoIdentidad,"onUpdate:modelValue":l=>e.user.documentoIdentidad=l,type:"text",rules:[g2],onKeydown:w2},null,8,["modelValue","onUpdate:modelValue","rules"])])),_:1}),p("br"),p(x,{label:"Contraseña",name:"contrasena"},{default:c((()=>[p(w,{modelValue:i.value,"onUpdate:modelValue":e=>i.value=e,type:"password",placeholder:"Dejar en blanco para no cambiar"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),p("br"),p(j,{type:"submit"},{default:c((()=>[y("Guardar")])),_:1})])),_:1},8,["state"])];h.value?a(l(g,{"close-button":{icon:"i-heroicons-x-mark-20-solid",color:"gray",variant:"link",padded:!1},title:h.value,color:"red",onClose:e=>h.value="",variant:"outline"},null,r,n)):a("\x3c!----\x3e"),h.value?a(`<br${n}>`):a("\x3c!----\x3e"),a(l(I,{state:e.user,onSubmit:q2},{default:c(((o,a,r,n)=>{if(!a)return[p(x,{label:"Nombre",name:"nombre",required:""},{default:c((()=>[p(w,{modelValue:e.user.nombre,"onUpdate:modelValue":l=>e.user.nombre=l,rules:[g2]},null,8,["modelValue","onUpdate:modelValue","rules"])])),_:1}),p("br"),p(x,{label:"Correo",name:"correo",required:""},{default:c((()=>[p(w,{modelValue:e.user.correo,"onUpdate:modelValue":l=>e.user.correo=l,type:"email",rules:[g2,x2],onKeydown:j2},null,8,["modelValue","onUpdate:modelValue","rules"])])),_:1}),p("br"),p(x,{label:"Teléfono",name:"telefono",required:""},{default:c((()=>[p(w,{modelValue:e.user.telefono,"onUpdate:modelValue":l=>e.user.telefono=l,type:"tel",rules:[g2],onKeydown:w2},null,8,["modelValue","onUpdate:modelValue","rules"])])),_:1}),p("br"),p(x,{label:"Documento",name:"documentoIdentidad",required:""},{default:c((()=>[p(w,{modelValue:e.user.documentoIdentidad,"onUpdate:modelValue":l=>e.user.documentoIdentidad=l,type:"text",rules:[g2],onKeydown:w2},null,8,["modelValue","onUpdate:modelValue","rules"])])),_:1}),p("br"),p(x,{label:"Contraseña",name:"contrasena"},{default:c((()=>[p(w,{modelValue:i.value,"onUpdate:modelValue":e=>i.value=e,type:"password",placeholder:"Dejar en blanco para no cambiar"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),p("br"),p(j,{type:"submit"},{default:c((()=>[y("Guardar")])),_:1})];a(l(x,{label:"Nombre",name:"nombre",required:""},{default:c(((o,a,r,n)=>{if(!a)return[p(w,{modelValue:e.user.nombre,"onUpdate:modelValue":l=>e.user.nombre=l,rules:[g2]},null,8,["modelValue","onUpdate:modelValue","rules"])];a(l(w,{modelValue:e.user.nombre,"onUpdate:modelValue":l=>e.user.nombre=l,rules:[g2]},null,r,n))})),_:1},r,n)),a(`<br${n}>`),a(l(x,{label:"Correo",name:"correo",required:""},{default:c(((o,a,r,n)=>{if(!a)return[p(w,{modelValue:e.user.correo,"onUpdate:modelValue":l=>e.user.correo=l,type:"email",rules:[g2,x2],onKeydown:j2},null,8,["modelValue","onUpdate:modelValue","rules"])];a(l(w,{modelValue:e.user.correo,"onUpdate:modelValue":l=>e.user.correo=l,type:"email",rules:[g2,x2],onKeydown:j2},null,r,n))})),_:1},r,n)),a(`<br${n}>`),a(l(x,{label:"Teléfono",name:"telefono",required:""},{default:c(((o,a,r,n)=>{if(!a)return[p(w,{modelValue:e.user.telefono,"onUpdate:modelValue":l=>e.user.telefono=l,type:"tel",rules:[g2],onKeydown:w2},null,8,["modelValue","onUpdate:modelValue","rules"])];a(l(w,{modelValue:e.user.telefono,"onUpdate:modelValue":l=>e.user.telefono=l,type:"tel",rules:[g2],onKeydown:w2},null,r,n))})),_:1},r,n)),a(`<br${n}>`),a(l(x,{label:"Documento",name:"documentoIdentidad",required:""},{default:c(((o,a,r,n)=>{if(!a)return[p(w,{modelValue:e.user.documentoIdentidad,"onUpdate:modelValue":l=>e.user.documentoIdentidad=l,type:"text",rules:[g2],onKeydown:w2},null,8,["modelValue","onUpdate:modelValue","rules"])];a(l(w,{modelValue:e.user.documentoIdentidad,"onUpdate:modelValue":l=>e.user.documentoIdentidad=l,type:"text",rules:[g2],onKeydown:w2},null,r,n))})),_:1},r,n)),a(`<br${n}>`),a(l(x,{label:"Contraseña",name:"contrasena"},{default:c(((e,o,a,r)=>{if(!o)return[p(w,{modelValue:i.value,"onUpdate:modelValue":e=>i.value=e,type:"password",placeholder:"Dejar en blanco para no cambiar"},null,8,["modelValue","onUpdate:modelValue"])];o(l(w,{modelValue:i.value,"onUpdate:modelValue":e=>i.value=e,type:"password",placeholder:"Dejar en blanco para no cambiar"},null,a,r))})),_:1},r,n)),a(`<br${n}>`),a(l(j,{type:"submit"},{default:c(((e,l,o,a)=>{if(!l)return[y("Guardar")];l("Guardar")})),_:1},r,n))})),_:1},r,n))})),_:1},r,n))})),_:1},d))}}}),j=w.setup;w.setup=(e,l)=>{const o=g();return(o.modules||(o.modules=new Set)).add("components/admin/EditModal.vue"),j?j(e,l):void 0};const D=s({__name:"CreateTeacherModal",__ssrInlineRender:!0,emits:["created"],setup(e,{expose:o,emit:t}){const d=t,u=m(!1),s=m({documentoIdentidad:"",nombre:"",correo:"",telefono:"",contrasena:""}),i=m(""),y2=()=>{u.value=!1,g2(),i.value=""},g2=()=>{s.value={documentoIdentidad:"",nombre:"",correo:"",telefono:"",contrasena:""}},x2=e=>{/[0-9]/.test(e.key)||["Backspace","Delete","ArrowLeft","ArrowRight","Tab"].includes(e.key)||e.preventDefault()},I2=e=>{/[a-zA-Z0-9@._-]/.test(e.key)||["Backspace","Delete","ArrowLeft","ArrowRight","Tab"].includes(e.key)||e.preventDefault()},w2=async()=>{try{await $fetch("/api/admin/users",{method:"POST",body:s.value}),y2(),d("created")}catch(e){let l="Ocurrió un error al crear el docente.";if("object"==typeof e&&null!==e&&"message"in e){const o=e.message.match(/:\s*\d+\s*(.*)/);o&&o[1]&&(l=o[1].trim())}i.value=l}};return o({openModalCreate:()=>{u.value=!0},closeModal:y2}),(e,o,t,d)=>{const m=a,h=_,g=C,I=k,x=n,w=r;o(l(U,V({modelValue:u.value,"onUpdate:modelValue":e=>u.value=e},d),{default:c(((e,o,a,r)=>{if(!o)return[p(m,null,{header:c((()=>[p("h3",{class:"text-lg font-semibold"},"Crear Nuevo Docente")])),default:c((()=>[i.value?(v(),f(h,{key:0,"close-button":{icon:"i-heroicons-x-mark-20-solid",color:"gray",variant:"link",padded:!1},title:i.value,color:"red",onClose:e=>i.value="",variant:"outline"},null,8,["title","onClose"])):b("",!0),i.value?(v(),f("br",{key:1})):b("",!0),p(g,{state:s.value,onSubmit:w2},{default:c((()=>[p(I,{label:"Documento de Identidad",name:"documentoIdentidad",required:""},{default:c((()=>[p(x,{modelValue:s.value.documentoIdentidad,"onUpdate:modelValue":e=>s.value.documentoIdentidad=e,placeholder:"Ingrese el documento",onKeydown:x2,maxlength:"10"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),p("br"),p(I,{label:"Nombre",name:"nombre",required:""},{default:c((()=>[p(x,{modelValue:s.value.nombre,"onUpdate:modelValue":e=>s.value.nombre=e,placeholder:"Ingrese el nombre"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),p("br"),p(I,{label:"Correo Electrónico",name:"correo",required:""},{default:c((()=>[p(x,{modelValue:s.value.correo,"onUpdate:modelValue":e=>s.value.correo=e,type:"email",placeholder:"Ingrese el correo",onKeydown:I2,maxlength:"40"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),p("br"),p(I,{label:"Teléfono",name:"telefono"},{default:c((()=>[p(x,{modelValue:s.value.telefono,"onUpdate:modelValue":e=>s.value.telefono=e,placeholder:"Ingrese el teléfono",onKeydown:x2,maxlength:"10"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),p("br"),p(I,{label:"Contraseña",name:"contrasena",required:""},{default:c((()=>[p(x,{modelValue:s.value.contrasena,"onUpdate:modelValue":e=>s.value.contrasena=e,type:"password",placeholder:"Ingrese la contraseña",minlength:"8"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),p("br"),p("div",{class:"flex justify-end gap-3 mt-4"},[p(w,{type:"button",color:"gray",onClick:y2},{default:c((()=>[y("Cancelar")])),_:1}),p(w,{type:"submit",color:"primary"},{default:c((()=>[y("Crear Docente")])),_:1})])])),_:1},8,["state"])])),_:1})];o(l(m,null,{header:c(((e,l,o,a)=>{if(!l)return[p("h3",{class:"text-lg font-semibold"},"Crear Nuevo Docente")];l(`<h3 class="text-lg font-semibold"${a}>Crear Nuevo Docente</h3>`)})),default:c(((e,o,a,r)=>{if(!o)return[i.value?(v(),f(h,{key:0,"close-button":{icon:"i-heroicons-x-mark-20-solid",color:"gray",variant:"link",padded:!1},title:i.value,color:"red",onClose:e=>i.value="",variant:"outline"},null,8,["title","onClose"])):b("",!0),i.value?(v(),f("br",{key:1})):b("",!0),p(g,{state:s.value,onSubmit:w2},{default:c((()=>[p(I,{label:"Documento de Identidad",name:"documentoIdentidad",required:""},{default:c((()=>[p(x,{modelValue:s.value.documentoIdentidad,"onUpdate:modelValue":e=>s.value.documentoIdentidad=e,placeholder:"Ingrese el documento",onKeydown:x2,maxlength:"10"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),p("br"),p(I,{label:"Nombre",name:"nombre",required:""},{default:c((()=>[p(x,{modelValue:s.value.nombre,"onUpdate:modelValue":e=>s.value.nombre=e,placeholder:"Ingrese el nombre"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),p("br"),p(I,{label:"Correo Electrónico",name:"correo",required:""},{default:c((()=>[p(x,{modelValue:s.value.correo,"onUpdate:modelValue":e=>s.value.correo=e,type:"email",placeholder:"Ingrese el correo",onKeydown:I2,maxlength:"40"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),p("br"),p(I,{label:"Teléfono",name:"telefono"},{default:c((()=>[p(x,{modelValue:s.value.telefono,"onUpdate:modelValue":e=>s.value.telefono=e,placeholder:"Ingrese el teléfono",onKeydown:x2,maxlength:"10"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),p("br"),p(I,{label:"Contraseña",name:"contrasena",required:""},{default:c((()=>[p(x,{modelValue:s.value.contrasena,"onUpdate:modelValue":e=>s.value.contrasena=e,type:"password",placeholder:"Ingrese la contraseña",minlength:"8"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),p("br"),p("div",{class:"flex justify-end gap-3 mt-4"},[p(w,{type:"button",color:"gray",onClick:y2},{default:c((()=>[y("Cancelar")])),_:1}),p(w,{type:"submit",color:"primary"},{default:c((()=>[y("Crear Docente")])),_:1})])])),_:1},8,["state"])];i.value?o(l(h,{"close-button":{icon:"i-heroicons-x-mark-20-solid",color:"gray",variant:"link",padded:!1},title:i.value,color:"red",onClose:e=>i.value="",variant:"outline"},null,a,r)):o("\x3c!----\x3e"),i.value?o(`<br${r}>`):o("\x3c!----\x3e"),o(l(g,{state:s.value,onSubmit:w2},{default:c(((e,o,a,r)=>{if(!o)return[p(I,{label:"Documento de Identidad",name:"documentoIdentidad",required:""},{default:c((()=>[p(x,{modelValue:s.value.documentoIdentidad,"onUpdate:modelValue":e=>s.value.documentoIdentidad=e,placeholder:"Ingrese el documento",onKeydown:x2,maxlength:"10"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),p("br"),p(I,{label:"Nombre",name:"nombre",required:""},{default:c((()=>[p(x,{modelValue:s.value.nombre,"onUpdate:modelValue":e=>s.value.nombre=e,placeholder:"Ingrese el nombre"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),p("br"),p(I,{label:"Correo Electrónico",name:"correo",required:""},{default:c((()=>[p(x,{modelValue:s.value.correo,"onUpdate:modelValue":e=>s.value.correo=e,type:"email",placeholder:"Ingrese el correo",onKeydown:I2,maxlength:"40"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),p("br"),p(I,{label:"Teléfono",name:"telefono"},{default:c((()=>[p(x,{modelValue:s.value.telefono,"onUpdate:modelValue":e=>s.value.telefono=e,placeholder:"Ingrese el teléfono",onKeydown:x2,maxlength:"10"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),p("br"),p(I,{label:"Contraseña",name:"contrasena",required:""},{default:c((()=>[p(x,{modelValue:s.value.contrasena,"onUpdate:modelValue":e=>s.value.contrasena=e,type:"password",placeholder:"Ingrese la contraseña",minlength:"8"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),p("br"),p("div",{class:"flex justify-end gap-3 mt-4"},[p(w,{type:"button",color:"gray",onClick:y2},{default:c((()=>[y("Cancelar")])),_:1}),p(w,{type:"submit",color:"primary"},{default:c((()=>[y("Crear Docente")])),_:1})])];o(l(I,{label:"Documento de Identidad",name:"documentoIdentidad",required:""},{default:c(((e,o,a,r)=>{if(!o)return[p(x,{modelValue:s.value.documentoIdentidad,"onUpdate:modelValue":e=>s.value.documentoIdentidad=e,placeholder:"Ingrese el documento",onKeydown:x2,maxlength:"10"},null,8,["modelValue","onUpdate:modelValue"])];o(l(x,{modelValue:s.value.documentoIdentidad,"onUpdate:modelValue":e=>s.value.documentoIdentidad=e,placeholder:"Ingrese el documento",onKeydown:x2,maxlength:"10"},null,a,r))})),_:1},a,r)),o(`<br${r}>`),o(l(I,{label:"Nombre",name:"nombre",required:""},{default:c(((e,o,a,r)=>{if(!o)return[p(x,{modelValue:s.value.nombre,"onUpdate:modelValue":e=>s.value.nombre=e,placeholder:"Ingrese el nombre"},null,8,["modelValue","onUpdate:modelValue"])];o(l(x,{modelValue:s.value.nombre,"onUpdate:modelValue":e=>s.value.nombre=e,placeholder:"Ingrese el nombre"},null,a,r))})),_:1},a,r)),o(`<br${r}>`),o(l(I,{label:"Correo Electrónico",name:"correo",required:""},{default:c(((e,o,a,r)=>{if(!o)return[p(x,{modelValue:s.value.correo,"onUpdate:modelValue":e=>s.value.correo=e,type:"email",placeholder:"Ingrese el correo",onKeydown:I2,maxlength:"40"},null,8,["modelValue","onUpdate:modelValue"])];o(l(x,{modelValue:s.value.correo,"onUpdate:modelValue":e=>s.value.correo=e,type:"email",placeholder:"Ingrese el correo",onKeydown:I2,maxlength:"40"},null,a,r))})),_:1},a,r)),o(`<br${r}>`),o(l(I,{label:"Teléfono",name:"telefono"},{default:c(((e,o,a,r)=>{if(!o)return[p(x,{modelValue:s.value.telefono,"onUpdate:modelValue":e=>s.value.telefono=e,placeholder:"Ingrese el teléfono",onKeydown:x2,maxlength:"10"},null,8,["modelValue","onUpdate:modelValue"])];o(l(x,{modelValue:s.value.telefono,"onUpdate:modelValue":e=>s.value.telefono=e,placeholder:"Ingrese el teléfono",onKeydown:x2,maxlength:"10"},null,a,r))})),_:1},a,r)),o(`<br${r}>`),o(l(I,{label:"Contraseña",name:"contrasena",required:""},{default:c(((e,o,a,r)=>{if(!o)return[p(x,{modelValue:s.value.contrasena,"onUpdate:modelValue":e=>s.value.contrasena=e,type:"password",placeholder:"Ingrese la contraseña",minlength:"8"},null,8,["modelValue","onUpdate:modelValue"])];o(l(x,{modelValue:s.value.contrasena,"onUpdate:modelValue":e=>s.value.contrasena=e,type:"password",placeholder:"Ingrese la contraseña",minlength:"8"},null,a,r))})),_:1},a,r)),o(`<br${r}><div class="flex justify-end gap-3 mt-4"${r}>`),o(l(w,{type:"button",color:"gray",onClick:y2},{default:c(((e,l,o,a)=>{if(!l)return[y("Cancelar")];l("Cancelar")})),_:1},a,r)),o(l(w,{type:"submit",color:"primary"},{default:c(((e,l,o,a)=>{if(!l)return[y("Crear Docente")];l("Crear Docente")})),_:1},a,r)),o("</div>")})),_:1},a,r))})),_:1},a,r))})),_:1},t))}}}),q=D.setup;D.setup=(e,l)=>{const o=g();return(o.modules||(o.modules=new Set)).add("components/admin/CreateTeacherModal.vue"),q?q(e,l):void 0};const E=s({__name:"TableTeacher",__ssrInlineRender:!0,setup(e){const o=m([]),s=m({documentoIdentidad:"",nombre:"",correo:"",telefono:"",id:0,rol:"",contrasena:""}),V=m(""),y=m(1),h=m(50),g=m(!1),U=m([]),_=m(0),C=m(null),k=m(null),x=m(null),j=m(null),q=[{key:"",label:""},{key:"documentoIdentidad",label:"Documento"},{key:"nombre",label:"Nombre"},{key:"correo",label:"Correo"},{key:"telefono",label:"Teléfono"},{key:"actions",label:"Acciones"}],E2=async()=>{g.value=!0;const e=await $fetch("/api/admin/users",{query:{page:y.value,limit:h.value,search:V.value.toLocaleLowerCase()}}),{users:l,total:o}=e;U.value=l.map((e=>({...e,telefono:e.telefono||""}))),_.value=o,g.value=!1};i([y,V],E2,{immediate:!0});const $2=e=>[[{label:"Editar",icon:"i-heroicons-pencil-square-20-solid",click:()=>{var l;s.value={...e},null==(l=x.value)||l.openModalEdit()}}],[{label:"Eliminar",icon:"i-heroicons-trash-20-solid",click:()=>{var l;C.value=e,null==(l=k.value)||l.openModalDelete()}}]],K2=async e=>{try{await $fetch("/api/admin/users",{method:"PUT",body:{id:e.id,nombre:e.nombre,correo:e.correo,telefono:e.telefono||"",documentoIdentidad:e.documentoIdentidad,contrasena:e.contrasena||void 0}}),E2()}catch(e){}},T2=async e=>{try{if(Array.isArray(e)){const l=e.map((e=>e.id));await $fetch("/api/admin/select/users",{method:"DELETE",body:{ids:l}})}else await $fetch("/api/admin/users",{method:"DELETE",body:{id:e.id}});E2(),o.value=[],C.value=null}catch(e){}},M=()=>{var e;o.value.length>0&&(null==(e=k.value)||e.openModalDelete())},A=()=>{var e;null==(e=j.value)||e.openModalCreate()};return(e,m,i,E)=>{const $=r,K=n,T=t,N=d,B=u;m(l(a,E,{default:c(((e,a,r,n)=>{if(!a)return[p("div",{class:"flex justify-end"},[p($,{onClick:A,color:"primary",class:"mb-4",icon:"i-heroicons-plus-circle-20-solid"})]),p(K,{modelValue:V.value,"onUpdate:modelValue":e=>V.value=e,placeholder:"Buscar por nombre, correo, teléfono o documento..."},null,8,["modelValue","onUpdate:modelValue"]),o.value.length>0?(v(),f($,{key:0,disabled:0===o.value.length,onClick:M,color:"red",variant:"outline",class:"mt-4",icon:"i-heroicons-trash-20-solid",title:"Eliminar seleccionados"},null,8,["disabled"])):b("",!0),p("br"),p(T,{rows:U.value,columns:q,loading:g.value,"loading-state":{icon:"i-heroicons-arrow-path-20-solid",label:"Loading..."},progress:{color:"primary",animation:"carousel"},"empty-state":{icon:"i-heroicons-circle-stack-20-solid",label:"No items."},modelValue:o.value,"onUpdate:modelValue":e=>o.value=e},{"actions-data":c((({row:e})=>[p(N,{items:$2(e)},{default:c((()=>[p($,{color:"gray",variant:"ghost",icon:"i-heroicons-ellipsis-horizontal-20-solid"})])),_:2},1032,["items"])])),_:1},8,["rows","loading","modelValue","onUpdate:modelValue"]),p("div",{class:"flex justify-end px-3 py-3.5 border-t border-gray-200 dark:border-gray-700"},[p(B,{modelValue:y.value,"onUpdate:modelValue":e=>y.value=e,"page-count":h.value,total:_.value},null,8,["modelValue","onUpdate:modelValue","page-count","total"])]),p(w,{ref_key:"editModal",ref:x,user:s.value,onSubmit:K2},null,8,["user"]),p(I,{ref_key:"deleteModal",ref:k,user:C.value,selectedUsers:o.value,onConfirm:T2},null,8,["user","selectedUsers"]),p(D,{ref_key:"createTeacherModal",ref:j,onCreated:E2},null,512)];a(`<div class="flex justify-end"${n}>`),a(l($,{onClick:A,color:"primary",class:"mb-4",icon:"i-heroicons-plus-circle-20-solid"},null,r,n)),a("</div>"),a(l(K,{modelValue:V.value,"onUpdate:modelValue":e=>V.value=e,placeholder:"Buscar por nombre, correo, teléfono o documento..."},null,r,n)),o.value.length>0?a(l($,{disabled:0===o.value.length,onClick:M,color:"red",variant:"outline",class:"mt-4",icon:"i-heroicons-trash-20-solid",title:"Eliminar seleccionados"},null,r,n)):a("\x3c!----\x3e"),a(`<br${n}>`),a(l(T,{rows:U.value,columns:q,loading:g.value,"loading-state":{icon:"i-heroicons-arrow-path-20-solid",label:"Loading..."},progress:{color:"primary",animation:"carousel"},"empty-state":{icon:"i-heroicons-circle-stack-20-solid",label:"No items."},modelValue:o.value,"onUpdate:modelValue":e=>o.value=e},{"actions-data":c((({row:e},o,a,r)=>{if(!o)return[p(N,{items:$2(e)},{default:c((()=>[p($,{color:"gray",variant:"ghost",icon:"i-heroicons-ellipsis-horizontal-20-solid"})])),_:2},1032,["items"])];o(l(N,{items:$2(e)},{default:c(((e,o,a,r)=>{if(!o)return[p($,{color:"gray",variant:"ghost",icon:"i-heroicons-ellipsis-horizontal-20-solid"})];o(l($,{color:"gray",variant:"ghost",icon:"i-heroicons-ellipsis-horizontal-20-solid"},null,a,r))})),_:2},a,r))})),_:1},r,n)),a(`<div class="flex justify-end px-3 py-3.5 border-t border-gray-200 dark:border-gray-700"${n}>`),a(l(B,{modelValue:y.value,"onUpdate:modelValue":e=>y.value=e,"page-count":h.value,total:_.value},null,r,n)),a("</div>"),a(l(w,{ref_key:"editModal",ref:x,user:s.value,onSubmit:K2},null,r,n)),a(l(I,{ref_key:"deleteModal",ref:k,user:C.value,selectedUsers:o.value,onConfirm:T2},null,r,n)),a(l(D,{ref_key:"createTeacherModal",ref:j,onCreated:E2},null,r,n))})),_:1},i))}}}),$=E.setup;E.setup=(e,l)=>{const o=g();return(o.modules||(o.modules=new Set)).add("components/admin/TableTeacher.vue"),$?$(e,l):void 0};const K={__name:"docentes",__ssrInlineRender:!0,setup:o=>(o,a,r,n)=>{a(`<div${e(n)}><div>`),a(l(E,null,null,r)),a("</div></div>")}},T=K.setup;K.setup=(e,l)=>{const o=g();return(o.modules||(o.modules=new Set)).add("pages/admin/docentes.vue"),T?T(e,l):void 0};export{K as default};
//# sourceMappingURL=docentes-CQUz0-ea.mjs.map
