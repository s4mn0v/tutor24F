import e from"./Icon-Di_vDYyH.mjs";import{_ as i}from"./Avatar-DoxxepFO.mjs";import{resolveComponent as n,mergeProps as a,withCtx as t,createVNode as o,createBlock as l,createCommentVNode as u,openBlock as s,renderSlot as r,Transition as d,Fragment as p,renderList as c,toDisplayString as m,createTextVNode as v,defineComponent as g,toRef as y,computed as b,ref as f,watch as M,toRaw as h,useId as I,useSSRContext as $}from"vue";import{t as C,o as q,a as x,l as j,e as k}from"./combobox-HhHBMj2s.mjs";import{s as A}from"./keyboard-CrgOGGit.mjs";import{computedAsync as O,useDebounceFn as w}from"@vueuse/core";import{v as S,L as z}from"../nitro/nitro.mjs";import{twJoin as B}from"tailwind-merge";import{s as _,g as N,p as H}from"./tooltip-P8fr8pDa.mjs";import{o as V}from"./usePopper-BYI_GJ1j.mjs";import{i as D}from"./useFormGroup-Dj1FOV-7.mjs";import{_ as W,m as L,g as F,t as U,j as G}from"./entry-B1wW15I9.mjs";import{i as Q}from"./useButtonGroup-DOVi4PLM.mjs";import{ssrRenderComponent as E,ssrRenderClass as P,ssrRenderSlot as R,ssrRenderList as T,ssrRenderStyle as Y,ssrInterpolate as J}from"vue/server-renderer";import"./index-CQS-gLPq.mjs";import"@iconify/vue";import"@iconify/utils/lib/css/icon";import"mammoth";import"pdf.js-extract";import"node:http";import"node:https";import"@vercel/kv";import"@iconify/utils";import"consola/core";import"unhead";import"@unhead/shared";import"vue-router";import"@prisma/client";import"vue3-apexcharts";import"@tanstack/vue-virtual";import"./form-Bmq-q-BN.mjs";import"./active-element-history-BCSenD5G.mjs";import"./micro-task-Yfl05yA4.mjs";import"./use-outside-click-qQ0I4h8Q.mjs";import"./focus-management-DUDUmKqn.mjs";import"./use-resolve-button-type-BA0kmWgg.mjs";import"./calculate-active-index-BW1n3MTi.mjs";import"./hidden-CFl4aoYx.mjs";import"./open-closed-pt2NNRlg.mjs";const K=L(F.ui.strategy,F.ui.input,N),X=L(F.ui.strategy,F.ui.inputMenu,H),Z=g({components:{HCombobox:k,HComboboxButton:j,HComboboxOptions:x,HComboboxOption:q,HComboboxInput:C,UIcon:e,UAvatar:i},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object,Array],default:""},query:{type:String,default:null},by:{type:String,default:void 0},options:{type:Array,default:()=>[]},id:{type:String,default:null},name:{type:String,default:null},required:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>K.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>X.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},selectedIcon:{type:String,default:()=>X.default.selectedIcon},disabled:{type:Boolean,default:!1},nullable:{type:Boolean,default:!1},placeholder:{type:String,default:null},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator:e=>Object.keys(K.size).includes(e)},color:{type:String,default:()=>K.default.color,validator:e=>[...F.ui.colors,...Object.keys(K.color)].includes(e)},variant:{type:String,default:()=>K.default.variant,validator:e=>[...Object.keys(K.variant),...Object.values(K.color).flatMap((e=>Object.keys(e)))].includes(e)},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:null},search:{type:Function,default:void 0},searchAttributes:{type:Array,default:null},searchLazy:{type:Boolean,default:!1},debounce:{type:Number,default:200},popper:{type:Object,default:()=>({})},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},uiMenu:{type:Object,default:()=>({})}},emits:["update:modelValue","update:query","open","close","change"],setup(e,{emit:i,slots:n}){const{ui:a,attrs:t}=_("input",y(e,"ui"),K,y(e,"class")),{ui:o}=_("inputMenu",y(e,"uiMenu"),X),l=b((()=>S({},e.popper,o.value.popper))),[u,s]=V(l.value),{size:r,rounded:d}=Q({ui:a,props:e}),{emitFormBlur:p,emitFormChange:c,inputId:m,color:v,size:g,name:$}=D(e,K),C=b((()=>{var e;return null!=(e=r.value)?e:g.value})),q=b((()=>{if(!e.by)return;if("function"==typeof e.by)return e.by;const i=e.by;return i.indexOf(".")>0?(e,n)=>ie2(e,i)===ie2(n,i):i})),x=f(""),j=b({get:()=>{var i;return null!=(i=e.query)?i:x.value},set(e){x.value=e,i("update:query",e)}}),k=b((()=>{if(!e.modelValue)return null;if(e.valueAttribute){const i=Z.value.find((i=>{var n,a,t;return a=(n=i,e.valueAttribute?ie2(n,e.valueAttribute):n),t=e.modelValue,q.value&&"function"!=typeof q.value&&"object"==typeof a&&"object"==typeof t?z(a[e.by],t[e.by]):z(a,t)}));return i?ie2(i,e.optionAttribute):null}return["string","number"].includes(typeof e.modelValue)?e.modelValue:ie2(e.modelValue,e.optionAttribute)})),N=b((()=>{var i,t;const o=(null==(t=null==(i=a.value.color)?void 0:i[v.value])?void 0:t[e.variant])||a.value.variant[e.variant];return U(B(a.value.base,a.value.form,d.value,a.value.placeholder,a.value.size[C.value],e.padded?a.value.padding[C.value]:"p-0",null==o?void 0:o.replaceAll("{color}",v.value),(H.value||n.leading)&&a.value.leading.padding[C.value],(W.value||n.trailing)&&a.value.trailing.padding[C.value]),e.inputClass)})),H=b((()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon)),W=b((()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon)),L=b((()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon)),E=b((()=>e.loading&&!H.value?e.loadingIcon:e.trailingIcon||e.icon)),P=b((()=>B(a.value.icon.leading.wrapper,a.value.icon.leading.pointer,a.value.icon.leading.padding[C.value]))),R=b((()=>B(a.value.icon.base,v.value&&F.ui.colors.includes(v.value)&&a.value.icon.color.replaceAll("{color}",v.value),a.value.icon.size[C.value],e.loading&&a.value.icon.loading))),T=b((()=>B(a.value.icon.trailing.wrapper,a.value.icon.trailing.padding[C.value]))),Y=b((()=>B(a.value.icon.base,v.value&&F.ui.colors.includes(v.value)&&a.value.icon.color.replaceAll("{color}",v.value),a.value.icon.size[C.value],e.loading&&!H.value&&a.value.icon.loading))),J=e.search&&"function"==typeof e.search?w(e.search,e.debounce):void 0,Z=O((async()=>J?await J(j.value):e.options||[]),[],{lazy:e.searchLazy}),ee=b((()=>{if(!j.value||J)return Z.value;const i=j.value.replace(/[.*+?^${}()|[\]\\]/g,(e=>`\\${e}`));return Z.value.filter((n=>{var a;return((null==(a=e.searchAttributes)?void 0:a.length)?e.searchAttributes:[e.optionAttribute]).some((e=>{if(["string","number"].includes(typeof n))return-1!==String(n).search(new RegExp(i,"i"));const a=G(n,e);return null!=a&&-1!==String(a).search(new RegExp(i,"i"))}))}))}));function ie2(e,i){return G(e,i)}return M(s,(e=>{e?i("open"):(i("close"),p())})),A((()=>I())),{ui:a,uiMenu:o,attrs:t,name:$,inputId:m,popper:l,trigger:u,container:s,label:k,isLeading:H,isTrailing:W,inputClass:N,leadingIconName:L,leadingIconClass:R,leadingWrapperIconClass:P,trailingIconName:E,trailingIconClass:Y,trailingWrapperIconClass:T,filteredOptions:ee,query:j,accessor:ie2,onUpdate:function(n){j.value="",h(e.modelValue)!==h(n)&&(i("update:modelValue",n),i("change",n),c())},onQueryChange:function(e){j.value=e.target.value},by:q}}}),ee=Z.setup;Z.setup=(e,i)=>{const n=$();return(n.modules||(n.modules=new Set)).add("node_modules/@nuxt/ui/dist/runtime/components/forms/InputMenu.vue"),ee?ee(e,i):void 0};const ie=W(Z,[["ssrRender",function(g,y,b,f,M,h,I,$){const C=n("HCombobox"),q=n("HComboboxInput"),x=e,j=n("HComboboxButton"),k=n("HComboboxOptions"),A=n("HComboboxOption"),O=i;y(E(C,a({by:g.by,name:g.name,"model-value":g.modelValue,disabled:g.disabled,nullable:g.nullable,as:"div",class:g.ui.wrapper,"onUpdate:modelValue":g.onUpdate},f),{default:t((({open:e},i,n,y)=>{if(!i)return[o("div",{class:g.uiMenu.trigger},[o(q,a({id:g.inputId,name:g.name,required:g.required,placeholder:g.placeholder,disabled:g.disabled,class:g.inputClass,autocomplete:"off"},g.attrs,{"display-value":()=>g.query?g.query:g.label,onChange:g.onQueryChange}),null,16,["id","name","required","placeholder","disabled","class","display-value","onChange"]),g.isLeading&&g.leadingIconName||g.$slots.leading?(s(),l("span",{key:0,class:g.leadingWrapperIconClass},[r(g.$slots,"leading",{disabled:g.disabled,loading:g.loading},(()=>[o(x,{name:g.leadingIconName,class:g.leadingIconClass},null,8,["name","class"])]))],2)):u("",!0),g.isTrailing&&g.trailingIconName||g.$slots.trailing?(s(),l(j,{key:1,ref:"trigger",class:g.trailingWrapperIconClass},{default:t((()=>[r(g.$slots,"trailing",{disabled:g.disabled,loading:g.loading},(()=>[o(x,{name:g.trailingIconName,class:g.trailingIconClass},null,8,["name","class"])]))])),_:3},8,["class"])):u("",!0)],2),e?(s(),l("div",{key:0,ref:"container",class:[g.uiMenu.container,g.uiMenu.width]},[o(d,a({appear:""},g.uiMenu.transition),{default:t((()=>[o("div",null,[g.popper.arrow?(s(),l("div",{key:0,"data-popper-arrow":"",class:Object.values(g.uiMenu.arrow)},null,2)):u("",!0),o(k,{static:"",class:[g.uiMenu.base,g.uiMenu.ring,g.uiMenu.rounded,g.uiMenu.shadow,g.uiMenu.background,g.uiMenu.padding,g.uiMenu.height]},{default:t((()=>[(s(!0),l(p,null,c(g.filteredOptions,((e,i)=>(s(),l(A,{key:i,as:"template",value:g.valueAttribute?g.accessor(e,g.valueAttribute):e,disabled:e.disabled},{default:t((({active:i,selected:n,disabled:t})=>[o("li",{class:[g.uiMenu.option.base,g.uiMenu.option.rounded,g.uiMenu.option.padding,g.uiMenu.option.size,g.uiMenu.option.color,i?g.uiMenu.option.active:g.uiMenu.option.inactive,n&&g.uiMenu.option.selected,t&&g.uiMenu.option.disabled]},[o("div",{class:g.uiMenu.option.container},[r(g.$slots,"option",{option:e,active:i,selected:n},(()=>[e.icon?(s(),l(x,{key:0,name:e.icon,class:[g.uiMenu.option.icon.base,i?g.uiMenu.option.icon.active:g.uiMenu.option.icon.inactive,e.iconClass],"aria-hidden":"true"},null,8,["name","class"])):e.avatar?(s(),l(O,a({key:1,ref_for:!0},{size:g.uiMenu.option.avatar.size,...e.avatar},{class:g.uiMenu.option.avatar.base,"aria-hidden":"true"}),null,16,["class"])):e.chip?(s(),l("span",{key:2,class:g.uiMenu.option.chip.base,style:{background:`#${e.chip}`}},null,6)):u("",!0),o("span",{class:"truncate"},m(["string","number"].includes(typeof e)?e:g.accessor(e,g.optionAttribute)),1)]))],2),n?(s(),l("span",{key:0,class:[g.uiMenu.option.selectedIcon.wrapper,g.uiMenu.option.selectedIcon.padding]},[o(x,{name:g.selectedIcon,class:g.uiMenu.option.selectedIcon.base,"aria-hidden":"true"},null,8,["name","class"])],2)):u("",!0)],2)])),_:2},1032,["value","disabled"])))),128)),g.query&&!g.filteredOptions.length?(s(),l("p",{key:0,class:g.uiMenu.option.empty},[r(g.$slots,"option-empty",{query:g.query},(()=>[v(m(g.uiMenu.default.optionEmpty.label.replace("{query}",g.query)),1)]))],2)):g.filteredOptions.length?u("",!0):(s(),l("p",{key:1,class:g.uiMenu.empty},[r(g.$slots,"empty",{query:g.query},(()=>[v(m(g.uiMenu.default.empty.label),1)]))],2))])),_:3},8,["class"])])])),_:3},16)],2)):u("",!0)];i(`<div class="${P(g.uiMenu.trigger)}"${y}>`),i(E(q,a({id:g.inputId,name:g.name,required:g.required,placeholder:g.placeholder,disabled:g.disabled,class:g.inputClass,autocomplete:"off"},g.attrs,{"display-value":()=>g.query?g.query:g.label,onChange:g.onQueryChange}),null,n,y)),g.isLeading&&g.leadingIconName||g.$slots.leading?(i(`<span class="${P(g.leadingWrapperIconClass)}"${y}>`),R(g.$slots,"leading",{disabled:g.disabled,loading:g.loading},(()=>{i(E(x,{name:g.leadingIconName,class:g.leadingIconClass},null,n,y))}),i,n,y),i("</span>")):i("\x3c!----\x3e"),g.isTrailing&&g.trailingIconName||g.$slots.trailing?i(E(j,{ref:"trigger",class:g.trailingWrapperIconClass},{default:t(((e,i,n,a)=>{if(!i)return[r(g.$slots,"trailing",{disabled:g.disabled,loading:g.loading},(()=>[o(x,{name:g.trailingIconName,class:g.trailingIconClass},null,8,["name","class"])]))];R(g.$slots,"trailing",{disabled:g.disabled,loading:g.loading},(()=>{i(E(x,{name:g.trailingIconName,class:g.trailingIconClass},null,n,a))}),i,n,a)})),_:2},n,y)):i("\x3c!----\x3e"),i("</div>"),e?(i(`<div class="${P([g.uiMenu.container,g.uiMenu.width])}"${y}><template><div${y}>`),g.popper.arrow?i(`<div data-popper-arrow class="${P(Object.values(g.uiMenu.arrow))}"${y}></div>`):i("\x3c!----\x3e"),i(E(k,{static:"",class:[g.uiMenu.base,g.uiMenu.ring,g.uiMenu.rounded,g.uiMenu.shadow,g.uiMenu.background,g.uiMenu.padding,g.uiMenu.height]},{default:t(((e,i,n,d)=>{if(!i)return[(s(!0),l(p,null,c(g.filteredOptions,((e,i)=>(s(),l(A,{key:i,as:"template",value:g.valueAttribute?g.accessor(e,g.valueAttribute):e,disabled:e.disabled},{default:t((({active:i,selected:n,disabled:t})=>[o("li",{class:[g.uiMenu.option.base,g.uiMenu.option.rounded,g.uiMenu.option.padding,g.uiMenu.option.size,g.uiMenu.option.color,i?g.uiMenu.option.active:g.uiMenu.option.inactive,n&&g.uiMenu.option.selected,t&&g.uiMenu.option.disabled]},[o("div",{class:g.uiMenu.option.container},[r(g.$slots,"option",{option:e,active:i,selected:n},(()=>[e.icon?(s(),l(x,{key:0,name:e.icon,class:[g.uiMenu.option.icon.base,i?g.uiMenu.option.icon.active:g.uiMenu.option.icon.inactive,e.iconClass],"aria-hidden":"true"},null,8,["name","class"])):e.avatar?(s(),l(O,a({key:1,ref_for:!0},{size:g.uiMenu.option.avatar.size,...e.avatar},{class:g.uiMenu.option.avatar.base,"aria-hidden":"true"}),null,16,["class"])):e.chip?(s(),l("span",{key:2,class:g.uiMenu.option.chip.base,style:{background:`#${e.chip}`}},null,6)):u("",!0),o("span",{class:"truncate"},m(["string","number"].includes(typeof e)?e:g.accessor(e,g.optionAttribute)),1)]))],2),n?(s(),l("span",{key:0,class:[g.uiMenu.option.selectedIcon.wrapper,g.uiMenu.option.selectedIcon.padding]},[o(x,{name:g.selectedIcon,class:g.uiMenu.option.selectedIcon.base,"aria-hidden":"true"},null,8,["name","class"])],2)):u("",!0)],2)])),_:2},1032,["value","disabled"])))),128)),g.query&&!g.filteredOptions.length?(s(),l("p",{key:0,class:g.uiMenu.option.empty},[r(g.$slots,"option-empty",{query:g.query},(()=>[v(m(g.uiMenu.default.optionEmpty.label.replace("{query}",g.query)),1)]))],2)):g.filteredOptions.length?u("",!0):(s(),l("p",{key:1,class:g.uiMenu.empty},[r(g.$slots,"empty",{query:g.query},(()=>[v(m(g.uiMenu.default.empty.label),1)]))],2))];i("\x3c!--[--\x3e"),T(g.filteredOptions,((e,p)=>{i(E(A,{key:p,as:"template",value:g.valueAttribute?g.accessor(e,g.valueAttribute):e,disabled:e.disabled},{default:t((({active:i,selected:n,disabled:t},d,p,c)=>{if(!d)return[o("li",{class:[g.uiMenu.option.base,g.uiMenu.option.rounded,g.uiMenu.option.padding,g.uiMenu.option.size,g.uiMenu.option.color,i?g.uiMenu.option.active:g.uiMenu.option.inactive,n&&g.uiMenu.option.selected,t&&g.uiMenu.option.disabled]},[o("div",{class:g.uiMenu.option.container},[r(g.$slots,"option",{option:e,active:i,selected:n},(()=>[e.icon?(s(),l(x,{key:0,name:e.icon,class:[g.uiMenu.option.icon.base,i?g.uiMenu.option.icon.active:g.uiMenu.option.icon.inactive,e.iconClass],"aria-hidden":"true"},null,8,["name","class"])):e.avatar?(s(),l(O,a({key:1,ref_for:!0},{size:g.uiMenu.option.avatar.size,...e.avatar},{class:g.uiMenu.option.avatar.base,"aria-hidden":"true"}),null,16,["class"])):e.chip?(s(),l("span",{key:2,class:g.uiMenu.option.chip.base,style:{background:`#${e.chip}`}},null,6)):u("",!0),o("span",{class:"truncate"},m(["string","number"].includes(typeof e)?e:g.accessor(e,g.optionAttribute)),1)]))],2),n?(s(),l("span",{key:0,class:[g.uiMenu.option.selectedIcon.wrapper,g.uiMenu.option.selectedIcon.padding]},[o(x,{name:g.selectedIcon,class:g.uiMenu.option.selectedIcon.base,"aria-hidden":"true"},null,8,["name","class"])],2)):u("",!0)],2)];d(`<li class="${P([g.uiMenu.option.base,g.uiMenu.option.rounded,g.uiMenu.option.padding,g.uiMenu.option.size,g.uiMenu.option.color,i?g.uiMenu.option.active:g.uiMenu.option.inactive,n&&g.uiMenu.option.selected,t&&g.uiMenu.option.disabled])}"${c}><div class="${P(g.uiMenu.option.container)}"${c}>`),R(g.$slots,"option",{option:e,active:i,selected:n},(()=>{e.icon?d(E(x,{name:e.icon,class:[g.uiMenu.option.icon.base,i?g.uiMenu.option.icon.active:g.uiMenu.option.icon.inactive,e.iconClass],"aria-hidden":"true"},null,p,c)):e.avatar?d(E(O,a({ref_for:!0},{size:g.uiMenu.option.avatar.size,...e.avatar},{class:g.uiMenu.option.avatar.base,"aria-hidden":"true"}),null,p,c)):e.chip?d(`<span class="${P(g.uiMenu.option.chip.base)}" style="${Y({background:`#${e.chip}`})}"${c}></span>`):d("\x3c!----\x3e"),d(`<span class="truncate"${c}>${J(["string","number"].includes(typeof e)?e:g.accessor(e,g.optionAttribute))}</span>`)}),d,p,c),d("</div>"),n?(d(`<span class="${P([g.uiMenu.option.selectedIcon.wrapper,g.uiMenu.option.selectedIcon.padding])}"${c}>`),d(E(x,{name:g.selectedIcon,class:g.uiMenu.option.selectedIcon.base,"aria-hidden":"true"},null,p,c)),d("</span>")):d("\x3c!----\x3e"),d("</li>")})),_:2},n,d))})),i("\x3c!--]--\x3e"),g.query&&!g.filteredOptions.length?(i(`<p class="${P(g.uiMenu.option.empty)}"${d}>`),R(g.$slots,"option-empty",{query:g.query},(()=>{i(`${J(g.uiMenu.default.optionEmpty.label.replace("{query}",g.query))}`)}),i,n,d),i("</p>")):g.filteredOptions.length?i("\x3c!----\x3e"):(i(`<p class="${P(g.uiMenu.empty)}"${d}>`),R(g.$slots,"empty",{query:g.query},(()=>{i(`${J(g.uiMenu.default.empty.label)}`)}),i,n,d),i("</p>"))})),_:2},n,y)),i("</div></template></div>")):i("\x3c!----\x3e")})),_:3},b))}]]);export{ie as default};
//# sourceMappingURL=InputMenu-D7ZC6Vuj.mjs.map
